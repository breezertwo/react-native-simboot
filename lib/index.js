"use strict";var Th=Object.create;var je=Object.defineProperty;var Oh=Object.getOwnPropertyDescriptor;var Ch=Object.getOwnPropertyNames;var Ph=Object.getPrototypeOf,qh=Object.prototype.hasOwnProperty;var a=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Mh=(t,e)=>{for(var i in e)je(t,i,{get:e[i],enumerable:!0})},Fi=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Ch(e))!qh.call(t,s)&&s!==i&&je(t,s,{get:()=>e[s],enumerable:!(r=Oh(e,s))||r.enumerable});return t};var pe=(t,e,i)=>(i=t!=null?Th(Ph(t)):{},Fi(e||!t||!t.__esModule?je(i,"default",{value:t,enumerable:!0}):i,t)),Ih=t=>Fi(je({},"__esModule",{value:!0}),t);var T=(t,e,i)=>new Promise((r,s)=>{var o=u=>{try{h(i.next(u))}catch(l){s(l)}},n=u=>{try{h(i.throw(u))}catch(l){s(l)}},h=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,n);h((i=i.apply(t,e)).next())});var m=a((lf,Li)=>{"use strict";var{FORCE_COLOR:Ah,NODE_DISABLE_COLORS:Eh,TERM:Dh}=process.env,d={enabled:!Eh&&Dh!=="dumb"&&Ah!=="0",reset:f(0,0),bold:f(1,22),dim:f(2,22),italic:f(3,23),underline:f(4,24),inverse:f(7,27),hidden:f(8,28),strikethrough:f(9,29),black:f(30,39),red:f(31,39),green:f(32,39),yellow:f(33,39),blue:f(34,39),magenta:f(35,39),cyan:f(36,39),white:f(37,39),gray:f(90,39),grey:f(90,39),bgBlack:f(40,49),bgRed:f(41,49),bgGreen:f(42,49),bgYellow:f(43,49),bgBlue:f(44,49),bgMagenta:f(45,49),bgCyan:f(46,49),bgWhite:f(47,49)};function Ni(t,e){let i=0,r,s="",o="";for(;i<t.length;i++)r=t[i],s+=r.open,o+=r.close,e.includes(r.close)&&(e=e.replace(r.rgx,r.close+r.open));return s+e+o}function $h(t,e){let i={has:t,keys:e};return i.reset=d.reset.bind(i),i.bold=d.bold.bind(i),i.dim=d.dim.bind(i),i.italic=d.italic.bind(i),i.underline=d.underline.bind(i),i.inverse=d.inverse.bind(i),i.hidden=d.hidden.bind(i),i.strikethrough=d.strikethrough.bind(i),i.black=d.black.bind(i),i.red=d.red.bind(i),i.green=d.green.bind(i),i.yellow=d.yellow.bind(i),i.blue=d.blue.bind(i),i.magenta=d.magenta.bind(i),i.cyan=d.cyan.bind(i),i.white=d.white.bind(i),i.gray=d.gray.bind(i),i.grey=d.grey.bind(i),i.bgBlack=d.bgBlack.bind(i),i.bgRed=d.bgRed.bind(i),i.bgGreen=d.bgGreen.bind(i),i.bgYellow=d.bgYellow.bind(i),i.bgBlue=d.bgBlue.bind(i),i.bgMagenta=d.bgMagenta.bind(i),i.bgCyan=d.bgCyan.bind(i),i.bgWhite=d.bgWhite.bind(i),i}function f(t,e){let i={open:`\x1B[${t}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(r){return this!==void 0&&this.has!==void 0?(this.has.includes(t)||(this.has.push(t),this.keys.push(i)),r===void 0?this:d.enabled?Ni(this.keys,r+""):r+""):r===void 0?$h([t],[i]):d.enabled?Ni([i],r+""):r+""}}Li.exports=d});var Yi=a((af,Hi)=>{"use strict";Hi.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var Re=a((cf,Gi)=>{"use strict";Gi.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return typeof t=="string"?t.replace(i,""):t}});var b=a((df,Vi)=>{"use strict";var at="\x1B",v=`${at}[`,jh="\x07",ct={to(t,e){return e?`${v}${e+1};${t+1}H`:`${v}${t+1}G`},move(t,e){let i="";return t<0?i+=`${v}${-t}D`:t>0&&(i+=`${v}${t}C`),e<0?i+=`${v}${-e}A`:e>0&&(i+=`${v}${e}B`),i},up:(t=1)=>`${v}${t}A`,down:(t=1)=>`${v}${t}B`,forward:(t=1)=>`${v}${t}C`,backward:(t=1)=>`${v}${t}D`,nextLine:(t=1)=>`${v}E`.repeat(t),prevLine:(t=1)=>`${v}F`.repeat(t),left:`${v}G`,hide:`${v}?25l`,show:`${v}?25h`,save:`${at}7`,restore:`${at}8`},Rh={up:(t=1)=>`${v}S`.repeat(t),down:(t=1)=>`${v}T`.repeat(t)},Fh={screen:`${v}2J`,up:(t=1)=>`${v}1J`.repeat(t),down:(t=1)=>`${v}J`.repeat(t),line:`${v}2K`,lineEnd:`${v}K`,lineStart:`${v}1K`,lines(t){let e="";for(let i=0;i<t;i++)e+=this.line+(i<t-1?ct.up():"");return t&&(e+=ct.left),e}};Vi.exports={cursor:ct,scroll:Rh,erase:Fh,beep:jh}});var Wi=a((ff,zi)=>{"use strict";function Nh(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=Lh(t))||e&&t&&typeof t.length=="number"){i&&(t=i);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,h;return{s:function(){i=i.call(t)},n:function(){var l=i.next();return o=l.done,l},e:function(l){n=!0,h=l},f:function(){try{!o&&i.return!=null&&i.return()}finally{if(n)throw h}}}}function Lh(t,e){if(t){if(typeof t=="string")return Ui(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ui(t,e)}}function Ui(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Hh=Re(),ki=b(),Bi=ki.erase,Yh=ki.cursor,Gh=t=>[...Hh(t)].length;zi.exports=function(t,e){if(!e)return Bi.line+Yh.to(0);let i=0,r=t.split(/\r?\n/);var s=Nh(r),o;try{for(s.s();!(o=s.n()).done;){let n=o.value;i+=1+Math.floor(Math.max(Gh(n)-1,0)/e)}}catch(n){s.e(n)}finally{s.f()}return Bi.lines(i)}});var dt=a((pf,Ki)=>{"use strict";var ge={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Vh={arrowUp:ge.arrowUp,arrowDown:ge.arrowDown,arrowLeft:ge.arrowLeft,arrowRight:ge.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Uh=process.platform==="win32"?Vh:ge;Ki.exports=Uh});var Xi=a((gf,Ji)=>{"use strict";var ee=m(),K=dt(),ft=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),Bh=t=>ft[t]||ft.default,me=Object.freeze({aborted:ee.red(K.cross),done:ee.green(K.tick),exited:ee.yellow(K.cross),default:ee.cyan("?")}),kh=(t,e,i)=>e?me.aborted:i?me.exited:t?me.done:me.default,zh=t=>ee.gray(t?K.ellipsis:K.pointerSmall),Wh=(t,e)=>ee.gray(t?e?K.pointerSmall:"+":K.line);Ji.exports={styles:ft,render:Bh,symbols:me,symbol:kh,delimiter:zh,item:Wh}});var Qi=a((mf,Zi)=>{"use strict";var Kh=Re();Zi.exports=function(t,e){let i=String(Kh(t)||"").split(/\r?\n/);return e?i.map(r=>Math.ceil(r.length/e)).reduce((r,s)=>r+s):i.length}});var tr=a((vf,er)=>{"use strict";er.exports=(t,e={})=>{let i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((o,n)=>(n.length+i.length>=r||o[o.length-1].length+n.length+1<r?o[o.length-1]+=` ${n}`:o.push(`${i}${n}`),o),[i]).join(`
`)).join(`
`)}});var rr=a((bf,ir)=>{"use strict";ir.exports=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));r<0&&(r=0);let s=Math.min(r+i,e);return{startIndex:r,endIndex:s}}});var O=a((yf,sr)=>{"use strict";sr.exports={action:Yi(),clear:Wi(),style:Xi(),strip:Re(),figures:dt(),lines:Qi(),wrap:tr(),entriesToDisplay:rr()}});var R=a((wf,hr)=>{"use strict";var nr=require("readline"),Jh=O(),Xh=Jh.action,Zh=require("events"),or=b(),Qh=or.beep,eu=or.cursor,tu=m(),pt=class extends Zh{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let i=nr.createInterface({input:this.in,escapeCodeTimeout:50});nr.emitKeypressEvents(this.in,i),this.in.isTTY&&this.in.setRawMode(!0);let r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(o,n)=>{let h=Xh(n,r);h===!1?this._&&this._(o,n):typeof this[h]=="function"?this[h](n):this.bell()};this.close=()=>{this.out.write(eu.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),i.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Qh)}render(){this.onRender(tu),this.firstRender&&(this.firstRender=!1)}};hr.exports=pt});var dr=a((xf,cr)=>{"use strict";function ur(t,e,i,r,s,o,n){try{var h=t[o](n),u=h.value}catch(l){i(l);return}h.done?e(u):Promise.resolve(u).then(r,s)}function lr(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(u){ur(o,r,s,n,h,"next",u)}function h(u){ur(o,r,s,n,h,"throw",u)}n(void 0)})}}var Fe=m(),iu=R(),ar=b(),ru=ar.erase,ve=ar.cursor,Ne=O(),gt=Ne.style,mt=Ne.clear,su=Ne.lines,nu=Ne.figures,vt=class extends iu{constructor(e={}){super(e),this.transform=gt.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=mt("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Fe.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return lr(function*(){let i=yield e.validator(e.value);typeof i=="string"&&(e.errorMsg=i,i=!1),e.error=!i})()}submit(){var e=this;return lr(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,i){let r=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${r}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),i=this.value.slice(this.cursor);this.value=`${e}${i}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor+1);this.value=`${e}${i}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ve.down(su(this.outputError,this.out.columns)-1)+mt(this.outputError,this.out.columns)),this.out.write(mt(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[gt.symbol(this.done,this.aborted),Fe.bold(this.msg),gt.delimiter(this.done),this.red?Fe.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":nu.pointerSmall} ${Fe.red().italic(i)}`,"")),this.out.write(ru.line+ve.to(0)+this.outputText+ve.save+this.outputError+ve.restore+ve.move(this.cursorOffset,0)))}};cr.exports=vt});var mr=a((Sf,gr)=>{"use strict";var F=m(),ou=R(),be=O(),fr=be.style,pr=be.clear,Le=be.figures,hu=be.wrap,uu=be.entriesToDisplay,lu=b(),au=lu.cursor,bt=class extends ou{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((i,r)=>(typeof i=="string"&&(i={title:i,value:r}),{title:i&&(i.title||i.value||i),value:i&&(i.value===void 0?r:i.value),description:i&&i.description,selected:i&&i.selected,disabled:i&&i.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=pr("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,i){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(au.hide):this.out.write(pr(this.outputText,this.out.columns)),super.render();let e=uu(this.cursor,this.choices.length,this.optionsPerPage),i=e.startIndex,r=e.endIndex;if(this.outputText=[fr.symbol(this.done,this.aborted),F.bold(this.msg),fr.delimiter(!1),this.done?this.selection.title:this.selection.disabled?F.yellow(this.warn):F.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=i;s<r;s++){let o,n,h="",u=this.choices[s];s===i&&i>0?n=Le.arrowUp:s===r-1&&r<this.choices.length?n=Le.arrowDown:n=" ",u.disabled?(o=this.cursor===s?F.gray().underline(u.title):F.strikethrough().gray(u.title),n=(this.cursor===s?F.bold().gray(Le.pointer)+" ":"  ")+n):(o=this.cursor===s?F.cyan().underline(u.title):u.title,n=(this.cursor===s?F.cyan(Le.pointer)+" ":"  ")+n,u.description&&this.cursor===s&&(h=` - ${u.description}`,(n.length+o.length+h.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(h=`
`+hu(u.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${o}${F.gray(h)}
`}}this.out.write(this.outputText)}};gr.exports=bt});var Sr=a((_f,xr)=>{"use strict";var He=m(),cu=R(),yr=O(),vr=yr.style,du=yr.clear,wr=b(),br=wr.cursor,fu=wr.erase,yt=class extends cu{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,i){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(br.hide):this.out.write(du(this.outputText,this.out.columns)),super.render(),this.outputText=[vr.symbol(this.done,this.aborted),He.bold(this.msg),vr.delimiter(this.done),this.value?this.inactive:He.cyan().underline(this.inactive),He.gray("/"),this.value?He.cyan().underline(this.active):this.active].join(" "),this.out.write(fu.line+br.to(0)+this.outputText))}};xr.exports=yt});var q=a((Tf,_r)=>{"use strict";var te=class{constructor({token:e,date:i,parts:r,locales:s}){this.token=e,this.date=i||new Date,this.parts=r||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((i,r)=>r>e&&i instanceof te)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),i=e.indexOf(this);return e.find((r,s)=>s>i&&r instanceof te)}toString(){return String(this.date)}};_r.exports=te});var Or=a((Of,Tr)=>{"use strict";var pu=q(),wt=class extends pu{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Tr.exports=wt});var Pr=a((Cf,Cr)=>{"use strict";var gu=q(),mu=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),xt=class extends gu{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),i=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+mu(e):this.token==="d"?i+1:this.token==="ddd"?this.locales.weekdaysShort[i]:this.token==="dddd"?this.locales.weekdays[i]:e}};Cr.exports=xt});var Mr=a((Pf,qr)=>{"use strict";var vu=q(),St=class extends vu{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};qr.exports=St});var Ar=a((qf,Ir)=>{"use strict";var bu=q(),_t=class extends bu{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Ir.exports=_t});var Dr=a((Mf,Er)=>{"use strict";var yu=q(),Tt=class extends yu{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Er.exports=Tt});var jr=a((If,$r)=>{"use strict";var wu=q(),Ot=class extends wu{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),i=this.token.length;return i===2?String(e+1).padStart(2,"0"):i===3?this.locales.monthsShort[e]:i===4?this.locales.months[e]:String(e+1)}};$r.exports=Ot});var Fr=a((Af,Rr)=>{"use strict";var xu=q(),Ct=class extends xu{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Rr.exports=Ct});var Lr=a((Ef,Nr)=>{"use strict";var Su=q(),Pt=class extends Su{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Nr.exports=Pt});var Yr=a((Df,Hr)=>{"use strict";Hr.exports={DatePart:q(),Meridiem:Or(),Day:Pr(),Hours:Mr(),Milliseconds:Ar(),Minutes:Dr(),Month:jr(),Seconds:Fr(),Year:Lr()}});var Xr=a(($f,Jr)=>{"use strict";function Gr(t,e,i,r,s,o,n){try{var h=t[o](n),u=h.value}catch(l){i(l);return}h.done?e(u):Promise.resolve(u).then(r,s)}function Vr(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(u){Gr(o,r,s,n,h,"next",u)}function h(u){Gr(o,r,s,n,h,"throw",u)}n(void 0)})}}var qt=m(),_u=R(),It=O(),Ur=It.style,Br=It.clear,Tu=It.figures,Kr=b(),Ou=Kr.erase,kr=Kr.cursor,N=Yr(),zr=N.DatePart,Cu=N.Meridiem,Pu=N.Day,qu=N.Hours,Mu=N.Milliseconds,Iu=N.Minutes,Au=N.Month,Eu=N.Seconds,Du=N.Year,$u=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Wr={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Pu(t),3:t=>new Au(t),4:t=>new Du(t),5:t=>new Cu(t),6:t=>new qu(t),7:t=>new Iu(t),8:t=>new Eu(t),9:t=>new Mu(t)},ju={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},Mt=class extends _u{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(ju,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Br("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let i;for(this.parts=[];i=$u.exec(e);){let s=i.shift(),o=i.findIndex(n=>n!=null);this.parts.push(o in Wr?Wr[o]({token:i[o]||s,date:this.date,parts:this.parts,locales:this.locales}):i[o]||s)}let r=this.parts.reduce((s,o)=>(typeof o=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=o:s.push(o),s),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof zr)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Vr(function*(){let i=yield e.validator(e.value);typeof i=="string"&&(e.errorMsg=i,i=!1),e.error=!i})()}submit(){var e=this;return Vr(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(i=>i instanceof zr)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(kr.hide):this.out.write(Br(this.outputText,this.out.columns)),super.render(),this.outputText=[Ur.symbol(this.done,this.aborted),qt.bold(this.msg),Ur.delimiter(!1),this.parts.reduce((e,i,r)=>e.concat(r===this.cursor&&!this.done?qt.cyan().underline(i.toString()):i),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":Tu.pointerSmall} ${qt.red().italic(i)}`,"")),this.out.write(Ou.line+kr.to(0)+this.outputText))}};Jr.exports=Mt});var ss=a((jf,rs)=>{"use strict";function Zr(t,e,i,r,s,o,n){try{var h=t[o](n),u=h.value}catch(l){i(l);return}h.done?e(u):Promise.resolve(u).then(r,s)}function Qr(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(u){Zr(o,r,s,n,h,"next",u)}function h(u){Zr(o,r,s,n,h,"throw",u)}n(void 0)})}}var Ye=m(),Ru=R(),is=b(),Ge=is.cursor,Fu=is.erase,Ve=O(),At=Ve.style,Nu=Ve.figures,es=Ve.clear,Lu=Ve.lines,Hu=/[0-9]/,Et=t=>t!==void 0,ts=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i},Dt=class extends Ru{constructor(e={}){super(e),this.transform=At.render(e.style),this.msg=e.message,this.initial=Et(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Et(e.min)?e.min:-1/0,this.max=Et(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Ye.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${ts(e,this.round)}`),this._value=ts(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Hu.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Qr(function*(){let i=yield e.validator(e.value);typeof i=="string"&&(e.errorMsg=i,i=!1),e.error=!i})()}submit(){var e=this;return Qr(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let i=e.value;e.value=i!==""?i:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,i){if(!this.valid(e))return this.bell();let r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=r,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ge.down(Lu(this.outputError,this.out.columns)-1)+es(this.outputError,this.out.columns)),this.out.write(es(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[At.symbol(this.done,this.aborted),Ye.bold(this.msg),At.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Ye[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":Nu.pointerSmall} ${Ye.red().italic(i)}`,"")),this.out.write(Fu.line+Ge.to(0)+this.outputText+Ge.save+this.outputError+Ge.restore))}};rs.exports=Dt});var jt=a((Rf,hs)=>{"use strict";var M=m(),Yu=b(),Gu=Yu.cursor,Vu=R(),ye=O(),ns=ye.clear,B=ye.figures,os=ye.style,Uu=ye.wrap,Bu=ye.entriesToDisplay,$t=class extends Vu{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((i,r)=>(typeof i=="string"&&(i={title:i,value:r}),{title:i&&(i.title||i.value||i),description:i&&i.description,value:i&&(i.value===void 0?r:i.value),selected:i&&i.selected,disabled:i&&i.disabled})),this.clear=ns("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(i=>i.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(i=>!i.disabled).forEach(i=>i.selected=e),this.render()}_(e,i){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${B.arrowUp}/${B.arrowDown}: Highlight option
    ${B.arrowLeft}/${B.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,i,r,s){let o=(i.selected?M.green(B.radioOn):B.radioOff)+" "+s+" ",n,h;return i.disabled?n=e===r?M.gray().underline(i.title):M.strikethrough().gray(i.title):(n=e===r?M.cyan().underline(i.title):i.title,e===r&&i.description&&(h=` - ${i.description}`,(o.length+n.length+h.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(h=`
`+Uu(i.description,{margin:o.length,width:this.out.columns})))),o+n+M.gray(h||"")}paginateOptions(e){if(e.length===0)return M.red("No matches for this query.");let i=Bu(this.cursor,e.length,this.optionsPerPage),r=i.startIndex,s=i.endIndex,o,n=[];for(let h=r;h<s;h++)h===r&&r>0?o=B.arrowUp:h===s-1&&s<e.length?o=B.arrowDown:o=" ",n.push(this.renderOption(this.cursor,e[h],h,o));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");let e=[M.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(M.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Gu.hide),super.render();let e=[os.symbol(this.done,this.aborted),M.bold(this.msg),os.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=M.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=ns(e,this.out.columns)}};hs.exports=$t});var ps=a((Ff,fs)=>{"use strict";function us(t,e,i,r,s,o,n){try{var h=t[o](n),u=h.value}catch(l){i(l);return}h.done?e(u):Promise.resolve(u).then(r,s)}function ku(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(u){us(o,r,s,n,h,"next",u)}function h(u){us(o,r,s,n,h,"throw",u)}n(void 0)})}}var we=m(),zu=R(),ds=b(),Wu=ds.erase,ls=ds.cursor,xe=O(),Rt=xe.style,as=xe.clear,Ft=xe.figures,Ku=xe.wrap,Ju=xe.entriesToDisplay,cs=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),Xu=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),Zu=(t,e)=>{let i=t.findIndex(r=>r.value===e||r.title===e);return i>-1?i:void 0},Nt=class extends zu{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Zu(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Rt.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=as("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=cs(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var i=this;return ku(function*(){let r=i.completing=i.suggest(i.input,i.choices),s=yield r;if(i.completing!==r)return;i.suggestions=s.map((n,h,u)=>({title:Xu(u,h),value:cs(u,h),description:n.description})),i.completing=!1;let o=Math.max(s.length-1,0);i.moveSelect(Math.min(o,i.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){let r=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${r}${e}${s}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),i=this.input.slice(this.cursor);this.input=`${e}${i}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor+1);this.input=`${e}${i}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,i,r,s){let o,n=r?Ft.arrowUp:s?Ft.arrowDown:" ",h=i?we.cyan().underline(e.title):e.title;return n=(i?we.cyan(Ft.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+h.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+Ku(e.description,{margin:3,width:this.out.columns}))),n+" "+h+we.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(ls.hide):this.out.write(as(this.outputText,this.out.columns)),super.render();let e=Ju(this.select,this.choices.length,this.limit),i=e.startIndex,r=e.endIndex;if(this.outputText=[Rt.symbol(this.done,this.aborted,this.exited),we.bold(this.msg),Rt.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(i,r).map((o,n)=>this.renderOption(o,this.select===n+i,n===0&&i>0,n+i===r-1&&r<this.choices.length)).join(`
`);this.outputText+=`
`+(s||we.gray(this.fallback.title))}this.out.write(Wu.line+ls.to(0)+this.outputText)}};fs.exports=Nt});var bs=a((Nf,vs)=>{"use strict";var L=m(),Qu=b(),el=Qu.cursor,tl=jt(),Ht=O(),gs=Ht.clear,ms=Ht.style,ie=Ht.figures,Lt=class extends tl{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=gs("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(r=>this.inputValue?!!(typeof r.title=="string"&&r.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof r.value=="string"&&r.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let i=this.filteredOptions.findIndex(r=>r===e);this.cursor=i<0?0:i,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,i){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ie.arrowUp}/${ie.arrowDown}: Highlight option
    ${ie.arrowLeft}/${ie.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:L.gray("Enter something to filter")}
`}renderOption(e,i,r){let s;return i.disabled?s=e===r?L.gray().underline(i.title):L.strikethrough().gray(i.title):s=e===r?L.cyan().underline(i.title):i.title,(i.selected?L.green(ie.radioOn):ie.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");let e=[L.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(L.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(el.hide),super.render();let e=[ms.symbol(this.done,this.aborted),L.bold(this.msg),ms.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=L.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=gs(e,this.out.columns)}};vs.exports=Lt});var Os=a((Lf,Ts)=>{"use strict";var ys=m(),il=R(),Ss=O(),ws=Ss.style,rl=Ss.clear,_s=b(),sl=_s.erase,xs=_s.cursor,Yt=class extends il{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(xs.hide):this.out.write(rl(this.outputText,this.out.columns)),super.render(),this.outputText=[ws.symbol(this.done,this.aborted),ys.bold(this.msg),ws.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:ys.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(sl.line+xs.to(0)+this.outputText))}};Ts.exports=Yt});var Ps=a((Hf,Cs)=>{"use strict";Cs.exports={TextPrompt:dr(),SelectPrompt:mr(),TogglePrompt:Sr(),DatePrompt:Xr(),NumberPrompt:ss(),MultiselectPrompt:jt(),AutocompletePrompt:ps(),AutocompleteMultiselectPrompt:bs(),ConfirmPrompt:Os()}});var Ms=a(qs=>{"use strict";var S=qs,nl=Ps(),Ue=t=>t;function I(t,e,i={}){return new Promise((r,s)=>{let o=new nl[t](e),n=i.onAbort||Ue,h=i.onSubmit||Ue,u=i.onExit||Ue;o.on("state",e.onState||Ue),o.on("submit",l=>r(h(l))),o.on("exit",l=>r(u(l))),o.on("abort",l=>s(n(l)))})}S.text=t=>I("TextPrompt",t);S.password=t=>(t.style="password",S.text(t));S.invisible=t=>(t.style="invisible",S.text(t));S.number=t=>I("NumberPrompt",t);S.date=t=>I("DatePrompt",t);S.confirm=t=>I("ConfirmPrompt",t);S.list=t=>{let e=t.separator||",";return I("TextPrompt",t,{onSubmit:i=>i.split(e).map(r=>r.trim())})};S.toggle=t=>I("TogglePrompt",t);S.select=t=>I("SelectPrompt",t);S.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=i=>i.filter(r=>r.selected).map(r=>r.value);return I("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};S.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=i=>i.filter(r=>r.selected).map(r=>r.value);return I("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var ol=(t,e)=>Promise.resolve(e.filter(i=>i.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));S.autocomplete=t=>(t.suggest=t.suggest||ol,t.choices=[].concat(t.choices||[]),I("AutocompletePrompt",t))});var Fs=a((Gf,Rs)=>{"use strict";function Is(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,r)}return i}function As(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Is(Object(i),!0).forEach(function(r){hl(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Is(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function hl(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ul(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=ll(t))||e&&t&&typeof t.length=="number"){i&&(t=i);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,h;return{s:function(){i=i.call(t)},n:function(){var l=i.next();return o=l.done,l},e:function(l){n=!0,h=l},f:function(){try{!o&&i.return!=null&&i.return()}finally{if(n)throw h}}}}function ll(t,e){if(t){if(typeof t=="string")return Es(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Es(t,e)}}function Es(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Ds(t,e,i,r,s,o,n){try{var h=t[o](n),u=h.value}catch(l){i(l);return}h.done?e(u):Promise.resolve(u).then(r,s)}function $s(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(u){Ds(o,r,s,n,h,"next",u)}function h(u){Ds(o,r,s,n,h,"throw",u)}n(void 0)})}}var Gt=Ms(),al=["suggest","format","onState","validate","onRender","type"],js=()=>{};function k(){return Vt.apply(this,arguments)}function Vt(){return Vt=$s(function*(t=[],{onSubmit:e=js,onCancel:i=js}={}){let r={},s=k._override||{};t=[].concat(t);let o,n,h,u,l,c,g=function(){var x=$s(function*(j,$e,Ri=!1){if(!(!Ri&&j.validate&&j.validate($e)!==!0))return j.format?yield j.format($e,r):$e});return function($e,Ri){return x.apply(this,arguments)}}();var y=ul(t),w;try{for(y.s();!(w=y.n()).done;){n=w.value;var P=n;if(u=P.name,l=P.type,typeof l=="function"&&(l=yield l(o,As({},r),n),n.type=l),!!l){for(let x in n){if(al.includes(x))continue;let j=n[x];n[x]=typeof j=="function"?yield j(o,As({},r),c):j}if(c=n,typeof n.message!="string")throw new Error("prompt message is required");var fe=n;if(u=fe.name,l=fe.type,Gt[l]===void 0)throw new Error(`prompt type (${l}) is not defined`);if(s[n.name]!==void 0&&(o=yield g(n,s[n.name]),o!==void 0)){r[u]=o;continue}try{o=k._injected?cl(k._injected,n.initial):yield Gt[l](n),r[u]=o=yield g(n,o,!0),h=yield e(n,o,r)}catch{h=!(yield i(n,r))}if(h)return r}}}catch(x){y.e(x)}finally{y.f()}return r}),Vt.apply(this,arguments)}function cl(t,e){let i=t.shift();if(i instanceof Error)throw i;return i===void 0?e:i}function dl(t){k._injected=(k._injected||[]).concat(t)}function fl(t){k._override=Object.assign({},t)}Rs.exports=Object.assign(k,{prompt:k,prompts:Gt,inject:dl,override:fl})});var Ls=a((Vf,Ns)=>{"use strict";Ns.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var Be=a((Uf,Hs)=>{"use strict";Hs.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return typeof t=="string"?t.replace(i,""):t}});var Vs=a((Bf,Gs)=>{"use strict";var pl=Be(),{erase:Ys,cursor:gl}=b(),ml=t=>[...pl(t)].length;Gs.exports=function(t,e){if(!e)return Ys.line+gl.to(0);let i=0,r=t.split(/\r?\n/);for(let s of r)i+=1+Math.floor(Math.max(ml(s)-1,0)/e);return Ys.lines(i)}});var Ut=a((kf,Us)=>{"use strict";var Se={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},vl={arrowUp:Se.arrowUp,arrowDown:Se.arrowDown,arrowLeft:Se.arrowLeft,arrowRight:Se.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},bl=process.platform==="win32"?vl:Se;Us.exports=bl});var ks=a((zf,Bs)=>{"use strict";var re=m(),J=Ut(),Bt=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),yl=t=>Bt[t]||Bt.default,_e=Object.freeze({aborted:re.red(J.cross),done:re.green(J.tick),exited:re.yellow(J.cross),default:re.cyan("?")}),wl=(t,e,i)=>e?_e.aborted:i?_e.exited:t?_e.done:_e.default,xl=t=>re.gray(t?J.ellipsis:J.pointerSmall),Sl=(t,e)=>re.gray(t?e?J.pointerSmall:"+":J.line);Bs.exports={styles:Bt,render:yl,symbols:_e,symbol:wl,delimiter:xl,item:Sl}});var Ws=a((Wf,zs)=>{"use strict";var _l=Be();zs.exports=function(t,e){let i=String(_l(t)||"").split(/\r?\n/);return e?i.map(r=>Math.ceil(r.length/e)).reduce((r,s)=>r+s):i.length}});var Js=a((Kf,Ks)=>{"use strict";Ks.exports=(t,e={})=>{let i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((o,n)=>(n.length+i.length>=r||o[o.length-1].length+n.length+1<r?o[o.length-1]+=` ${n}`:o.push(`${i}${n}`),o),[i]).join(`
`)).join(`
`)}});var Zs=a((Jf,Xs)=>{"use strict";Xs.exports=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));r<0&&(r=0);let s=Math.min(r+i,e);return{startIndex:r,endIndex:s}}});var C=a((Xf,Qs)=>{"use strict";Qs.exports={action:Ls(),clear:Vs(),style:ks(),strip:Be(),figures:Ut(),lines:Ws(),wrap:Js(),entriesToDisplay:Zs()}});var H=a((Zf,tn)=>{"use strict";var en=require("readline"),{action:Tl}=C(),Ol=require("events"),{beep:Cl,cursor:Pl}=b(),ql=m(),kt=class extends Ol{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let i=en.createInterface({input:this.in,escapeCodeTimeout:50});en.emitKeypressEvents(this.in,i),this.in.isTTY&&this.in.setRawMode(!0);let r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(o,n)=>{let h=Tl(n,r);h===!1?this._&&this._(o,n):typeof this[h]=="function"?this[h](n):this.bell()};this.close=()=>{this.out.write(Pl.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),i.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Cl)}render(){this.onRender(ql),this.firstRender&&(this.firstRender=!1)}};tn.exports=kt});var sn=a((Qf,rn)=>{var ke=m(),Ml=H(),{erase:Il,cursor:Te}=b(),{style:zt,clear:Wt,lines:Al,figures:El}=C(),Kt=class extends Ml{constructor(e={}){super(e),this.transform=zt.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=Wt("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=ke.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,i){let r=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${r}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),i=this.value.slice(this.cursor);this.value=`${e}${i}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor+1);this.value=`${e}${i}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Te.down(Al(this.outputError,this.out.columns)-1)+Wt(this.outputError,this.out.columns)),this.out.write(Wt(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[zt.symbol(this.done,this.aborted),ke.bold(this.msg),zt.delimiter(this.done),this.red?ke.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":El.pointerSmall} ${ke.red().italic(i)}`,"")),this.out.write(Il.line+Te.to(0)+this.outputText+Te.save+this.outputError+Te.restore+Te.move(this.cursorOffset,0)))}};rn.exports=Kt});var un=a((ep,hn)=>{"use strict";var Y=m(),Dl=H(),{style:nn,clear:on,figures:ze,wrap:$l,entriesToDisplay:jl}=C(),{cursor:Rl}=b(),Jt=class extends Dl{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((i,r)=>(typeof i=="string"&&(i={title:i,value:r}),{title:i&&(i.title||i.value||i),value:i&&(i.value===void 0?r:i.value),description:i&&i.description,selected:i&&i.selected,disabled:i&&i.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=on("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,i){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Rl.hide):this.out.write(on(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:i}=jl(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[nn.symbol(this.done,this.aborted),Y.bold(this.msg),nn.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Y.yellow(this.warn):Y.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let r=e;r<i;r++){let s,o,n="",h=this.choices[r];r===e&&e>0?o=ze.arrowUp:r===i-1&&i<this.choices.length?o=ze.arrowDown:o=" ",h.disabled?(s=this.cursor===r?Y.gray().underline(h.title):Y.strikethrough().gray(h.title),o=(this.cursor===r?Y.bold().gray(ze.pointer)+" ":"  ")+o):(s=this.cursor===r?Y.cyan().underline(h.title):h.title,o=(this.cursor===r?Y.cyan(ze.pointer)+" ":"  ")+o,h.description&&this.cursor===r&&(n=` - ${h.description}`,(o.length+s.length+n.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(n=`
`+$l(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${s}${Y.gray(n)}
`}}this.out.write(this.outputText)}};hn.exports=Jt});var dn=a((tp,cn)=>{var We=m(),Fl=H(),{style:ln,clear:Nl}=C(),{cursor:an,erase:Ll}=b(),Xt=class extends Fl{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,i){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(an.hide):this.out.write(Nl(this.outputText,this.out.columns)),super.render(),this.outputText=[ln.symbol(this.done,this.aborted),We.bold(this.msg),ln.delimiter(this.done),this.value?this.inactive:We.cyan().underline(this.inactive),We.gray("/"),this.value?We.cyan().underline(this.active):this.active].join(" "),this.out.write(Ll.line+an.to(0)+this.outputText))}};cn.exports=Xt});var A=a((ip,fn)=>{"use strict";var se=class{constructor({token:e,date:i,parts:r,locales:s}){this.token=e,this.date=i||new Date,this.parts=r||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((i,r)=>r>e&&i instanceof se)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),i=e.indexOf(this);return e.find((r,s)=>s>i&&r instanceof se)}toString(){return String(this.date)}};fn.exports=se});var gn=a((rp,pn)=>{"use strict";var Hl=A(),Zt=class extends Hl{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};pn.exports=Zt});var vn=a((sp,mn)=>{"use strict";var Yl=A(),Gl=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),Qt=class extends Yl{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),i=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+Gl(e):this.token==="d"?i+1:this.token==="ddd"?this.locales.weekdaysShort[i]:this.token==="dddd"?this.locales.weekdays[i]:e}};mn.exports=Qt});var yn=a((np,bn)=>{"use strict";var Vl=A(),ei=class extends Vl{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};bn.exports=ei});var xn=a((op,wn)=>{"use strict";var Ul=A(),ti=class extends Ul{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};wn.exports=ti});var _n=a((hp,Sn)=>{"use strict";var Bl=A(),ii=class extends Bl{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Sn.exports=ii});var On=a((up,Tn)=>{"use strict";var kl=A(),ri=class extends kl{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),i=this.token.length;return i===2?String(e+1).padStart(2,"0"):i===3?this.locales.monthsShort[e]:i===4?this.locales.months[e]:String(e+1)}};Tn.exports=ri});var Pn=a((lp,Cn)=>{"use strict";var zl=A(),si=class extends zl{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Cn.exports=si});var Mn=a((ap,qn)=>{"use strict";var Wl=A(),ni=class extends Wl{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};qn.exports=ni});var An=a((cp,In)=>{"use strict";In.exports={DatePart:A(),Meridiem:gn(),Day:vn(),Hours:yn(),Milliseconds:xn(),Minutes:_n(),Month:On(),Seconds:Pn(),Year:Mn()}});var Nn=a((dp,Fn)=>{"use strict";var oi=m(),Kl=H(),{style:En,clear:Dn,figures:Jl}=C(),{erase:Xl,cursor:$n}=b(),{DatePart:jn,Meridiem:Zl,Day:Ql,Hours:ea,Milliseconds:ta,Minutes:ia,Month:ra,Seconds:sa,Year:na}=An(),oa=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Rn={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Ql(t),3:t=>new ra(t),4:t=>new na(t),5:t=>new Zl(t),6:t=>new ea(t),7:t=>new ia(t),8:t=>new sa(t),9:t=>new ta(t)},ha={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},hi=class extends Kl{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(ha,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Dn("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let i;for(this.parts=[];i=oa.exec(e);){let s=i.shift(),o=i.findIndex(n=>n!=null);this.parts.push(o in Rn?Rn[o]({token:i[o]||s,date:this.date,parts:this.parts,locales:this.locales}):i[o]||s)}let r=this.parts.reduce((s,o)=>(typeof o=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=o:s.push(o),s),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof jn)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(i=>i instanceof jn)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write($n.hide):this.out.write(Dn(this.outputText,this.out.columns)),super.render(),this.outputText=[En.symbol(this.done,this.aborted),oi.bold(this.msg),En.delimiter(!1),this.parts.reduce((e,i,r)=>e.concat(r===this.cursor&&!this.done?oi.cyan().underline(i.toString()):i),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":Jl.pointerSmall} ${oi.red().italic(i)}`,"")),this.out.write(Xl.line+$n.to(0)+this.outputText))}};Fn.exports=hi});var Gn=a((fp,Yn)=>{var Ke=m(),ua=H(),{cursor:Je,erase:la}=b(),{style:ui,figures:aa,clear:Ln,lines:ca}=C(),da=/[0-9]/,li=t=>t!==void 0,Hn=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i},ai=class extends ua{constructor(e={}){super(e),this.transform=ui.render(e.style),this.msg=e.message,this.initial=li(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=li(e.min)?e.min:-1/0,this.max=li(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Ke.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Hn(e,this.round)}`),this._value=Hn(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||da.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,i){if(!this.valid(e))return this.bell();let r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=r,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Je.down(ca(this.outputError,this.out.columns)-1)+Ln(this.outputError,this.out.columns)),this.out.write(Ln(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ui.symbol(this.done,this.aborted),Ke.bold(this.msg),ui.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Ke[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":aa.pointerSmall} ${Ke.red().italic(i)}`,"")),this.out.write(la.line+Je.to(0)+this.outputText+Je.save+this.outputError+Je.restore))}};Yn.exports=ai});var di=a((pp,Bn)=>{"use strict";var E=m(),{cursor:fa}=b(),pa=H(),{clear:Vn,figures:z,style:Un,wrap:ga,entriesToDisplay:ma}=C(),ci=class extends pa{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((i,r)=>(typeof i=="string"&&(i={title:i,value:r}),{title:i&&(i.title||i.value||i),description:i&&i.description,value:i&&(i.value===void 0?r:i.value),selected:i&&i.selected,disabled:i&&i.disabled})),this.clear=Vn("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(i=>i.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(i=>!i.disabled).forEach(i=>i.selected=e),this.render()}_(e,i){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${z.arrowUp}/${z.arrowDown}: Highlight option
    ${z.arrowLeft}/${z.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,i,r,s){let o=(i.selected?E.green(z.radioOn):z.radioOff)+" "+s+" ",n,h;return i.disabled?n=e===r?E.gray().underline(i.title):E.strikethrough().gray(i.title):(n=e===r?E.cyan().underline(i.title):i.title,e===r&&i.description&&(h=` - ${i.description}`,(o.length+n.length+h.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(h=`
`+ga(i.description,{margin:o.length,width:this.out.columns})))),o+n+E.gray(h||"")}paginateOptions(e){if(e.length===0)return E.red("No matches for this query.");let{startIndex:i,endIndex:r}=ma(this.cursor,e.length,this.optionsPerPage),s,o=[];for(let n=i;n<r;n++)n===i&&i>0?s=z.arrowUp:n===r-1&&r<e.length?s=z.arrowDown:s=" ",o.push(this.renderOption(this.cursor,e[n],n,s));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");let e=[E.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(E.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(fa.hide),super.render();let e=[Un.symbol(this.done,this.aborted),E.bold(this.msg),Un.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=E.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Vn(e,this.out.columns)}};Bn.exports=ci});var Jn=a((gp,Kn)=>{"use strict";var Oe=m(),va=H(),{erase:ba,cursor:kn}=b(),{style:fi,clear:zn,figures:pi,wrap:ya,entriesToDisplay:wa}=C(),Wn=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),xa=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),Sa=(t,e)=>{let i=t.findIndex(r=>r.value===e||r.title===e);return i>-1?i:void 0},gi=class extends va{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Sa(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=fi.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=zn("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Wn(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let i=this.completing=this.suggest(this.input,this.choices),r=await i;if(this.completing!==i)return;this.suggestions=r.map((o,n,h)=>({title:xa(h,n),value:Wn(h,n),description:o.description})),this.completing=!1;let s=Math.max(r.length-1,0);this.moveSelect(Math.min(s,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){let r=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${r}${e}${s}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),i=this.input.slice(this.cursor);this.input=`${e}${i}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor+1);this.input=`${e}${i}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,i,r,s){let o,n=r?pi.arrowUp:s?pi.arrowDown:" ",h=i?Oe.cyan().underline(e.title):e.title;return n=(i?Oe.cyan(pi.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+h.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+ya(e.description,{margin:3,width:this.out.columns}))),n+" "+h+Oe.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(kn.hide):this.out.write(zn(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:i}=wa(this.select,this.choices.length,this.limit);if(this.outputText=[fi.symbol(this.done,this.aborted,this.exited),Oe.bold(this.msg),fi.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let r=this.suggestions.slice(e,i).map((s,o)=>this.renderOption(s,this.select===o+e,o===0&&e>0,o+e===i-1&&i<this.choices.length)).join(`
`);this.outputText+=`
`+(r||Oe.gray(this.fallback.title))}this.out.write(ba.line+kn.to(0)+this.outputText)}};Kn.exports=gi});var eo=a((mp,Qn)=>{"use strict";var G=m(),{cursor:_a}=b(),Ta=di(),{clear:Xn,style:Zn,figures:ne}=C(),mi=class extends Ta{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=Xn("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(r=>this.inputValue?!!(typeof r.title=="string"&&r.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof r.value=="string"&&r.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let i=this.filteredOptions.findIndex(r=>r===e);this.cursor=i<0?0:i,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,i){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ne.arrowUp}/${ne.arrowDown}: Highlight option
    ${ne.arrowLeft}/${ne.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:G.gray("Enter something to filter")}
`}renderOption(e,i,r){let s;return i.disabled?s=e===r?G.gray().underline(i.title):G.strikethrough().gray(i.title):s=e===r?G.cyan().underline(i.title):i.title,(i.selected?G.green(ne.radioOn):ne.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");let e=[G.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(G.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(_a.hide),super.render();let e=[Zn.symbol(this.done,this.aborted),G.bold(this.msg),Zn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=G.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Xn(e,this.out.columns)}};Qn.exports=mi});var no=a((vp,so)=>{var to=m(),Oa=H(),{style:io,clear:Ca}=C(),{erase:Pa,cursor:ro}=b(),vi=class extends Oa{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(ro.hide):this.out.write(Ca(this.outputText,this.out.columns)),super.render(),this.outputText=[io.symbol(this.done,this.aborted),to.bold(this.msg),io.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:to.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Pa.line+ro.to(0)+this.outputText))}};so.exports=vi});var ho=a((bp,oo)=>{"use strict";oo.exports={TextPrompt:sn(),SelectPrompt:un(),TogglePrompt:dn(),DatePrompt:Nn(),NumberPrompt:Gn(),MultiselectPrompt:di(),AutocompletePrompt:Jn(),AutocompleteMultiselectPrompt:eo(),ConfirmPrompt:no()}});var lo=a(uo=>{"use strict";var _=uo,qa=ho(),Xe=t=>t;function D(t,e,i={}){return new Promise((r,s)=>{let o=new qa[t](e),n=i.onAbort||Xe,h=i.onSubmit||Xe,u=i.onExit||Xe;o.on("state",e.onState||Xe),o.on("submit",l=>r(h(l))),o.on("exit",l=>r(u(l))),o.on("abort",l=>s(n(l)))})}_.text=t=>D("TextPrompt",t);_.password=t=>(t.style="password",_.text(t));_.invisible=t=>(t.style="invisible",_.text(t));_.number=t=>D("NumberPrompt",t);_.date=t=>D("DatePrompt",t);_.confirm=t=>D("ConfirmPrompt",t);_.list=t=>{let e=t.separator||",";return D("TextPrompt",t,{onSubmit:i=>i.split(e).map(r=>r.trim())})};_.toggle=t=>D("TogglePrompt",t);_.select=t=>D("SelectPrompt",t);_.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=i=>i.filter(r=>r.selected).map(r=>r.value);return D("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};_.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=i=>i.filter(r=>r.selected).map(r=>r.value);return D("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var Ma=(t,e)=>Promise.resolve(e.filter(i=>i.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));_.autocomplete=t=>(t.suggest=t.suggest||Ma,t.choices=[].concat(t.choices||[]),D("AutocompletePrompt",t))});var fo=a((wp,co)=>{"use strict";var bi=lo(),Ia=["suggest","format","onState","validate","onRender","type"],ao=()=>{};async function W(t=[],{onSubmit:e=ao,onCancel:i=ao}={}){let r={},s=W._override||{};t=[].concat(t);let o,n,h,u,l,c,g=async(y,w,P=!1)=>{if(!(!P&&y.validate&&y.validate(w)!==!0))return y.format?await y.format(w,r):w};for(n of t)if({name:u,type:l}=n,typeof l=="function"&&(l=await l(o,{...r},n),n.type=l),!!l){for(let y in n){if(Ia.includes(y))continue;let w=n[y];n[y]=typeof w=="function"?await w(o,{...r},c):w}if(c=n,typeof n.message!="string")throw new Error("prompt message is required");if({name:u,type:l}=n,bi[l]===void 0)throw new Error(`prompt type (${l}) is not defined`);if(s[n.name]!==void 0&&(o=await g(n,s[n.name]),o!==void 0)){r[u]=o;continue}try{o=W._injected?Aa(W._injected,n.initial):await bi[l](n),r[u]=o=await g(n,o,!0),h=await e(n,o,r)}catch{h=!await i(n,r)}if(h)return r}return r}function Aa(t,e){let i=t.shift();if(i instanceof Error)throw i;return i===void 0?e:i}function Ea(t){W._injected=(W._injected||[]).concat(t)}function Da(t){W._override=Object.assign({},t)}co.exports=Object.assign(W,{prompt:W,prompts:bi,inject:Ea,override:Da})});var yi=a((xp,po)=>{function $a(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,i=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(i[e]>t[e])return!1;if(t[e]>i[e])return!0}return!1}po.exports=$a("8.6.0")?Fs():fo()});var Xo=a((Ce,ue)=>{var ja=200,Eo="__lodash_hash_undefined__",Ra=800,Fa=16,Do=9007199254740991,$o="[object Arguments]",Na="[object Array]",La="[object AsyncFunction]",Ha="[object Boolean]",Ya="[object Date]",Ga="[object Error]",jo="[object Function]",Va="[object GeneratorFunction]",Ua="[object Map]",Ba="[object Number]",ka="[object Null]",Ro="[object Object]",za="[object Proxy]",Wa="[object RegExp]",Ka="[object Set]",Ja="[object String]",Xa="[object Undefined]",Za="[object WeakMap]",Qa="[object ArrayBuffer]",ec="[object DataView]",tc="[object Float32Array]",ic="[object Float64Array]",rc="[object Int8Array]",sc="[object Int16Array]",nc="[object Int32Array]",oc="[object Uint8Array]",hc="[object Uint8ClampedArray]",uc="[object Uint16Array]",lc="[object Uint32Array]",ac=/[\\^$.*+?()[\]{}|]/g,cc=/^\[object .+?Constructor\]$/,dc=/^(?:0|[1-9]\d*)$/,p={};p[tc]=p[ic]=p[rc]=p[sc]=p[nc]=p[oc]=p[hc]=p[uc]=p[lc]=!0;p[$o]=p[Na]=p[Qa]=p[Ha]=p[ec]=p[Ya]=p[Ga]=p[jo]=p[Ua]=p[Ba]=p[Ro]=p[Wa]=p[Ka]=p[Ja]=p[Za]=!1;var Fo=typeof global=="object"&&global&&global.Object===Object&&global,fc=typeof self=="object"&&self&&self.Object===Object&&self,Me=Fo||fc||Function("return this")(),No=typeof Ce=="object"&&Ce&&!Ce.nodeType&&Ce,Pe=No&&typeof ue=="object"&&ue&&!ue.nodeType&&ue,Lo=Pe&&Pe.exports===No,wi=Lo&&Fo.process,_o=function(){try{var t=Pe&&Pe.require&&Pe.require("util").types;return t||wi&&wi.binding&&wi.binding("util")}catch{}}(),To=_o&&_o.isTypedArray;function pc(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function gc(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}function mc(t){return function(e){return t(e)}}function vc(t,e){return t?.[e]}function bc(t,e){return function(i){return t(e(i))}}var yc=Array.prototype,wc=Function.prototype,it=Object.prototype,xi=Me["__core-js_shared__"],rt=wc.toString,V=it.hasOwnProperty,Oo=function(){var t=/[^.]+$/.exec(xi&&xi.keys&&xi.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ho=it.toString,xc=rt.call(Object),Sc=RegExp("^"+rt.call(V).replace(ac,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=Lo?Me.Buffer:void 0,Co=Me.Symbol,Po=Me.Uint8Array,qo=et?et.allocUnsafe:void 0,Yo=bc(Object.getPrototypeOf,Object),Mo=Object.create,_c=it.propertyIsEnumerable,Tc=yc.splice,X=Co?Co.toStringTag:void 0,tt=function(){try{var t=Pi(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Oc=et?et.isBuffer:void 0,Io=Math.max,Cc=Date.now,Go=Pi(Me,"Map"),qe=Pi(Object,"create"),Pc=function(){function t(){}return function(e){if(!Q(e))return{};if(Mo)return Mo(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function Z(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function qc(){this.__data__=qe?qe(null):{},this.size=0}function Mc(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ic(t){var e=this.__data__;if(qe){var i=e[t];return i===Eo?void 0:i}return V.call(e,t)?e[t]:void 0}function Ac(t){var e=this.__data__;return qe?e[t]!==void 0:V.call(e,t)}function Ec(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=qe&&e===void 0?Eo:e,this}Z.prototype.clear=qc;Z.prototype.delete=Mc;Z.prototype.get=Ic;Z.prototype.has=Ac;Z.prototype.set=Ec;function U(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Dc(){this.__data__=[],this.size=0}function $c(t){var e=this.__data__,i=st(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():Tc.call(e,i,1),--this.size,!0}function jc(t){var e=this.__data__,i=st(e,t);return i<0?void 0:e[i][1]}function Rc(t){return st(this.__data__,t)>-1}function Fc(t,e){var i=this.__data__,r=st(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}U.prototype.clear=Dc;U.prototype.delete=$c;U.prototype.get=jc;U.prototype.has=Rc;U.prototype.set=Fc;function le(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Nc(){this.size=0,this.__data__={hash:new Z,map:new(Go||U),string:new Z}}function Lc(t){var e=ot(this,t).delete(t);return this.size-=e?1:0,e}function Hc(t){return ot(this,t).get(t)}function Yc(t){return ot(this,t).has(t)}function Gc(t,e){var i=ot(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}le.prototype.clear=Nc;le.prototype.delete=Lc;le.prototype.get=Hc;le.prototype.has=Yc;le.prototype.set=Gc;function ae(t){var e=this.__data__=new U(t);this.size=e.size}function Vc(){this.__data__=new U,this.size=0}function Uc(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function Bc(t){return this.__data__.get(t)}function kc(t){return this.__data__.has(t)}function zc(t,e){var i=this.__data__;if(i instanceof U){var r=i.__data__;if(!Go||r.length<ja-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new le(r)}return i.set(t,e),this.size=i.size,this}ae.prototype.clear=Vc;ae.prototype.delete=Uc;ae.prototype.get=Bc;ae.prototype.has=kc;ae.prototype.set=zc;function Wc(t,e){var i=Oi(t),r=!i&&Ti(t),s=!i&&!r&&ko(t),o=!i&&!r&&!s&&Wo(t),n=i||r||s||o,h=n?gc(t.length,String):[],u=h.length;for(var l in t)(e||V.call(t,l))&&!(n&&(l=="length"||s&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Uo(l,u)))&&h.push(l);return h}function Si(t,e,i){(i!==void 0&&!ht(t[e],i)||i===void 0&&!(e in t))&&Ci(t,e,i)}function Kc(t,e,i){var r=t[e];(!(V.call(t,e)&&ht(r,i))||i===void 0&&!(e in t))&&Ci(t,e,i)}function st(t,e){for(var i=t.length;i--;)if(ht(t[i][0],e))return i;return-1}function Ci(t,e,i){e=="__proto__"&&tt?tt(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var Jc=ld();function nt(t){return t==null?t===void 0?Xa:ka:X&&X in Object(t)?ad(t):md(t)}function Ao(t){return Ie(t)&&nt(t)==$o}function Xc(t){if(!Q(t)||pd(t))return!1;var e=Mi(t)?Sc:cc;return e.test(wd(t))}function Zc(t){return Ie(t)&&zo(t.length)&&!!p[nt(t)]}function Qc(t){if(!Q(t))return gd(t);var e=Bo(t),i=[];for(var r in t)r=="constructor"&&(e||!V.call(t,r))||i.push(r);return i}function Vo(t,e,i,r,s){t!==e&&Jc(e,function(o,n){if(s||(s=new ae),Q(o))ed(t,e,n,i,Vo,r,s);else{var h=r?r(_i(t,n),o,n+"",t,e,s):void 0;h===void 0&&(h=o),Si(t,n,h)}},Ko)}function ed(t,e,i,r,s,o,n){var h=_i(t,i),u=_i(e,i),l=n.get(u);if(l){Si(t,i,l);return}var c=o?o(h,u,i+"",t,e,n):void 0,g=c===void 0;if(g){var y=Oi(u),w=!y&&ko(u),P=!y&&!w&&Wo(u);c=u,y||w||P?Oi(h)?c=h:xd(h)?c=od(h):w?(g=!1,c=rd(u,!0)):P?(g=!1,c=nd(u,!0)):c=[]:Sd(u)||Ti(u)?(c=h,Ti(h)?c=_d(h):(!Q(h)||Mi(h))&&(c=cd(u))):g=!1}g&&(n.set(u,c),s(c,u,r,o,n),n.delete(u)),Si(t,i,c)}function td(t,e){return bd(vd(t,e,Jo),t+"")}var id=tt?function(t,e){return tt(t,"toString",{configurable:!0,enumerable:!1,value:Od(e),writable:!0})}:Jo;function rd(t,e){if(e)return t.slice();var i=t.length,r=qo?qo(i):new t.constructor(i);return t.copy(r),r}function sd(t){var e=new t.constructor(t.byteLength);return new Po(e).set(new Po(t)),e}function nd(t,e){var i=e?sd(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function od(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}function hd(t,e,i,r){var s=!i;i||(i={});for(var o=-1,n=e.length;++o<n;){var h=e[o],u=r?r(i[h],t[h],h,i,t):void 0;u===void 0&&(u=t[h]),s?Ci(i,h,u):Kc(i,h,u)}return i}function ud(t){return td(function(e,i){var r=-1,s=i.length,o=s>1?i[s-1]:void 0,n=s>2?i[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,n&&dd(i[0],i[1],n)&&(o=s<3?void 0:o,s=1),e=Object(e);++r<s;){var h=i[r];h&&t(e,h,r,o)}return e})}function ld(t){return function(e,i,r){for(var s=-1,o=Object(e),n=r(e),h=n.length;h--;){var u=n[t?h:++s];if(i(o[u],u,o)===!1)break}return e}}function ot(t,e){var i=t.__data__;return fd(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Pi(t,e){var i=vc(t,e);return Xc(i)?i:void 0}function ad(t){var e=V.call(t,X),i=t[X];try{t[X]=void 0;var r=!0}catch{}var s=Ho.call(t);return r&&(e?t[X]=i:delete t[X]),s}function cd(t){return typeof t.constructor=="function"&&!Bo(t)?Pc(Yo(t)):{}}function Uo(t,e){var i=typeof t;return e=e??Do,!!e&&(i=="number"||i!="symbol"&&dc.test(t))&&t>-1&&t%1==0&&t<e}function dd(t,e,i){if(!Q(i))return!1;var r=typeof e;return(r=="number"?qi(i)&&Uo(e,i.length):r=="string"&&e in i)?ht(i[e],t):!1}function fd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function pd(t){return!!Oo&&Oo in t}function Bo(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||it;return t===i}function gd(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}function md(t){return Ho.call(t)}function vd(t,e,i){return e=Io(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,o=Io(r.length-e,0),n=Array(o);++s<o;)n[s]=r[e+s];s=-1;for(var h=Array(e+1);++s<e;)h[s]=r[s];return h[e]=i(n),pc(t,this,h)}}function _i(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var bd=yd(id);function yd(t){var e=0,i=0;return function(){var r=Cc(),s=Fa-(r-i);if(i=r,s>0){if(++e>=Ra)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function wd(t){if(t!=null){try{return rt.call(t)}catch{}try{return t+""}catch{}}return""}function ht(t,e){return t===e||t!==t&&e!==e}var Ti=Ao(function(){return arguments}())?Ao:function(t){return Ie(t)&&V.call(t,"callee")&&!_c.call(t,"callee")},Oi=Array.isArray;function qi(t){return t!=null&&zo(t.length)&&!Mi(t)}function xd(t){return Ie(t)&&qi(t)}var ko=Oc||Cd;function Mi(t){if(!Q(t))return!1;var e=nt(t);return e==jo||e==Va||e==La||e==za}function zo(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Do}function Q(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Ie(t){return t!=null&&typeof t=="object"}function Sd(t){if(!Ie(t)||nt(t)!=Ro)return!1;var e=Yo(t);if(e===null)return!0;var i=V.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&rt.call(i)==xc}var Wo=To?mc(To):Zc;function _d(t){return hd(t,Ko(t))}function Ko(t){return qi(t)?Wc(t,!0):Qc(t)}var Td=ud(function(t,e,i){Vo(t,e,i)});function Od(t){return function(){return t}}function Jo(t){return t}function Cd(){return!1}ue.exports=Td});var bh=a((Id,ji)=>{"use strict";var Pd=require("stream"),qd=require("fs"),Md=Xo(),Id=ji.exports={},Ad=9,Di=10,rh=13,sh=32,lt=40,nh=41,Ed=47,oh=61,hh=91,Dd=93,ce=123,Ae=125,uh="def",lh="if",De={};De[Ad]=!0;De[Di]=!0;De[rh]=!0;De[sh]=!0;var ah="//",$d="/*",jd="*/",Zo={repositories:Kd,dependencies:Ud,plugins:kd},$i="[ \\t]*([A-Za-z0-9_-]+)[ \\t]*",Rd=RegExp($i),Fd=RegExp(`(["']?)([\\w.-]+):([\\w.-]+):([\\w\\[\\]\\(\\),+.-]+)\\1`),Nd=RegExp($i+"(?:\\((.*)\\)|(.*))"),Ld=RegExp($i+`\\(((["']?)(.*)\\3)\\)[ \\t]*\\{`),Hd=RegExp("exclude[ \\t]+([^\\n]+)","g"),Yd=RegExp(`(id|version)[ \\t]*\\(?(["']?)([A-Za-z0-9._-]+)\\2\\)?`,"g");function ut(t,e,i,r){var s={},o=t.length,n=0,h="",u="",l="",c=!0,g=!0;for(typeof r>"u"&&(r=!0);e.index<o;e.index++)if(n=t[e.index],!(g&&de(n))){if(!e.comment.parsing&&g&&Ei(h)){g=!1,gh(h)?e.comment.setSingleLine():e.comment.setMultiLine();continue}if(e.comment.multiLine&&mh(u)){e.comment.reset(),g=!0,h="",u="";continue}if(e.comment.parsing&&n!=Di){u+=String.fromCharCode(n);continue}if(e.comment.parsing&&Ee(n))if(e.comment.singleLine){e.comment.reset(),g=!0,l="",h="",u="";continue}else continue;if(c&&!i&&n===lt){ph(t,e),l="",h="",g=!0;continue}if(Ee(n)){if(!l&&h&&c){if(tf(h)&&!i)continue;l=h.trim(),h=""}(h||l&&!r)&&(th(s,l,Ai(h)),l="",h=""),c=!0,g=!0,e.comment.reset();continue}if(!c&&!h&&n===hh){s[l]=Xd(t,e),l="",h="";continue}if(n===ce)e.index++,Zo.hasOwnProperty(l)?s[l]=Zo[l](t,e):s[l]?s[l]=Md({},s[l],ut(t,e,i,r)):s[l]=ut(t,e,i,r),l="";else if(n===Ae){l="",h="";break}else if(ih(n)&&c){if(Qd(h)){if(h===uh)h=Jd(t,e);else if(h===lh){Gd(t,e),l="",h="";continue}}if(l=h,h="",c=!1,!l)continue}else{if(!h&&ih(n))continue;h+=String.fromCharCode(n),g=g&&(n===Ed||Ei(h))}}return th(s,l,Ai(h)),s}function Gd(t,e){ph(t,e);for(var i="",r=!1,s=!1,o=0,n=t.length;e.index<n;e.index++)if(i=t[e.index],s){if(Ee(i))break}else if(i===ce?(r=!0,o++):i===Ae?o--:!r&&!de(i)&&(s=!0),r&&o===0)break;return o===0}function Vd(t,e){for(var i=e.index,r=1,s=t[++e.index];s!==void 0&&r;)s===lt?r++:s===nh&&r--,s=t[++e.index];for(;s&&s!==ce;)s=t[++e.index];s=t[++e.index];for(var o=1;s!==void 0&&o;)s===ce?o++:s===Ae&&o--,s=t[++e.index];e.index--}function Ud(t,e){return fh(t,e,Bd)}function Bd(t){var e={group:"",name:"",version:"",type:""},i=Wd(t);if(i.gav)e=Qo(i.gav),e.type=i.type,e.excludes=i.excludes;else{e=Qo(t);var r=Rd.exec(t);e.type=r&&r[1]||"",e.excludes=[]}return e}function kd(t,e){return fh(t,e,zd)}function zd(t){for(var e={},i;i=Yd.exec(t);)i&&i[1]&&(e[i[1]]=i[3]);return e}function ch(t){var e=t.indexOf(" ");return e===-1&&(e=t.indexOf("	")),e}function Wd(t){var e=Ld.exec(t);if(e&&e[2]){for(var i=[],r;r=Hd.exec(t);)i.push(dh(r[0].substring(ch(r[0]))));return{gav:e[2],type:e[1],excludes:i}}return[]}function Qo(t){var e={group:"",name:"",version:""},i=Fd.exec(t);if(i)e.group=i[2],e.name=i[3],e.version=i[4];else if(t.indexOf("project(")!==-1)e.name=t.match(/(project\([^\)]+\))/g)[0];else{var r=Nd.exec(t);r&&(r[3]||r[2])?e=eh(e,r[3]||r[2]):e=eh(e,t,t.slice(ch(t)))}return e}function eh(t,e,i){var r=dh(e);return r.name?t=r:t.name=i||e,t}function dh(t){for(var e={},i="",r="",s=0,o=t.length;s<o;s++)if(t[s]===":"){i=i.trim(),e[i]="";for(var n=0,s=s+1;s<o;s++)if(!(n===0&&Zd(t[s]))){if(t[s]==='"'||t[s]==="'"){r=t[s];continue}if(t[s]===","){e[i]=e[i].trim(),i="";break}e[i]+=t[s],n++}}else i+=t[s];return e[i]&&(e[i]=e[i].trim(),e[i].slice(-1)===r&&(e[i]=e[i].slice(0,-1))),e}function Kd(t,e){var i=[],r=ut(t,e,!0,!1);return Object.keys(r).map(function(s){r[s]?i.push({type:s,data:r[s]}):i.push({type:"unknown",data:{name:s}})}),i}function fh(t,e,i){for(var r=[],s=1,o="",n="",h=!1;e.index<t.length;e.index++){if(t[e.index]===ce?s++:t[e.index]===Ae?s--:o+=String.fromCharCode(t[e.index]),o=o.trim(),Ei(o)){var u=o;for(e.index=e.index+1;e.index<t.length;e.index++){if(ef(u,t[e.index])){o="";break}u+=String.fromCharCode(t[e.index])}}if(o&&de(t[e.index])){var l="";for(e.index=e.index+1;e.index<t.length;e.index++)if(l=t[e.index],n+=String.fromCharCode(l),l===ce)h=!0;else if(h&&l===Ae)h=!1;else if(!h&&Ee(l)&&n)break;r.push(i(o+" "+n)),o="",n=""}if(s==0)break}return r}function Jd(t,e){for(var i=0,r="",s=!0,o=t.length;e.index<o&&(i=t[e.index],i!==oh);e.index++){if(i===lt){s=!1,Vd(t,e);break}r+=String.fromCharCode(i)}if(s){var n=r.trim().split(" ");return n[n.length-1]}else return""}function Xd(t,e){for(var i=0,r="",s=t.length;e.index<s;e.index++)if(i=t[e.index],i!==hh){if(i===Dd)break;r+=String.fromCharCode(i)}return r.split(",").map(function(o){return Ai(o.trim())})}function ph(t,e){for(var i=0,r="",s=t.length;e.index<s;e.index++)if(r=t[e.index],r===lt?i++:r===nh&&i--,i===0&&!de(r)){e.index++;break}return i===0}function th(t,e,i){if(e)if(t.hasOwnProperty(e))if(t[e].constructor===Array)t[e].push(Ii(i));else{var r=t[e];t[e]=[r,Ii(i)]}else t[e]=Ii(i)}function Ii(t){return t==="true"||t==="false"?t==="true":t}function Ai(t){var e=t.slice(0,1);return e==='"'?t.replace(/^"([^"]+)"$/g,"$1"):e==="'"?t.replace(/^'([^']+)'$/g,"$1"):t}function ih(t){return t===sh||t===oh}function de(t){return De.hasOwnProperty(t)}function Zd(t){return de(t.charCodeAt(0))}function Ee(t){return t==rh||t==Di}function Qd(t){return t===uh||t===lh}function gh(t){return t.slice(0,2)===ah}function Ei(t){return t===$d||t===ah}function ef(t,e){return Ee(e)&&gh(t)||de(e)&&mh(t)}function mh(t){return t.slice(-2)===jd}function tf(t){return t.match(/\w+\(.*\);?$/)!==null}function vh(t){return new Promise(function(e,i){var r={};t.on("data",function(s){var o={index:0,comment:{parsing:!1,singleLine:!1,multiLine:!1,setSingleLine:function(){this._setCommentState(!0,!1)},setMultiLine:function(){this._setCommentState(!1,!0)},reset:function(){this._setCommentState(!1,!1)},_setCommentState:function(n,h){this.singleLine=n,this.multiLine=h,this.parsing=n||h}}};r=ut(s,o,!1,void 0)}),t.on("end",function(){e(r)}),t.on("error",function(s){i("Error parsing stream: "+s)})})}function rf(t){var e=new Pd.Readable;return e._read=function(){},e.push(t),e.push(null),vh(e)}function sf(t){var e=qd.createReadStream(t);return vh(e)}ji.exports={parseText:rf,parseFile:sf}});var hf={};Mh(hf,{simboot:()=>of});module.exports=Ih(hf);var yh=pe(yi());var go=pe(require("fs")),mo=t=>{if(!go.default.existsSync(t))return{};console.log("\u{1F4C4} Found simboot.config.js");let e=require(t);return e.customScriptPhase&&typeof e.customScriptPhase!="function"&&(console.log("\u{1F6A8} customScriptPhase must be a function"),process.exit(1)),e.verbose&&typeof e.verbose!="boolean"&&(console.log("\u{1F6A8} verbose must be a boolean"),process.exit(1)),{customScriptPhase:e.customScriptPhase,verbose:e.verbose}};var Ze=pe(require("path")),vo=t=>({root:$(t.root,"root"),xcodeprojPath:()=>{var i;let e=$((i=t==null?void 0:t.project)==null?void 0:i.ios,"project.ios");return e.xcodeprojPath||Ze.default.join($(e.sourceDir,"project.ios.sourceDir"),$(e.xcodeProject,"project.ios.xcodeProject").name.replace(".xcworkspace",".xcodeproj"))},pbxprojPath:()=>{var i;let e=$((i=t==null?void 0:t.project)==null?void 0:i.ios,"project.ios");return e.pbxprojPath||Ze.default.join($(e.sourceDir,"project.ios.sourceDir"),$(e.xcodeProject,"project.ios.xcodeProject").name.replace(".xcworkspace",".xcodeproj"),"project.pbxproj")},buildGradlePath:()=>{var i;let e=$((i=t==null?void 0:t.project)==null?void 0:i.android,"project.android");return Ze.default.join($(e.sourceDir,"project.android.sourceDir"),$(e.appName,"project.android.appName"),"build.gradle")}}),$=(t,e)=>{if(!t)throw new Error(`Missing required value: ${e}, found: ${t}`);return t};var bo=(t,e)=>{console.error(`\x1B[31m${t} failed with:
${e}`),process.exit(1)};var oe=pe(require("readline")),yo=require("child_process"),wo=(t,e)=>{oe.clearLine(process.stdout,0),oe.cursorTo(process.stdout,0,void 0),process.stdout.write(`\u{1F6A7} ReactNative build is running... ${t} seconds elapsed`)},xo=()=>{oe.clearLine(process.stdout,0),oe.cursorTo(process.stdout,0,void 0),console.log("\u{1F680} ReactNative build finished successfully")},he=t=>new Promise((e,i)=>{(0,yo.exec)(t,(r,s,o)=>{r&&(console.warn(r),i(r)),e(s||o)})});var Qe=t=>T(void 0,null,function*(){let e=0,i=setInterval(()=>wo(++e),1e3);try{yield he(t),clearInterval(i),xo();return}catch(r){clearInterval(i),bo("[npx react-native run-android]",String(r))}});var So=()=>T(void 0,null,function*(){let t=[];try{let e=yield he("xcrun xctrace list devices"),i=e==null?void 0:e.split(`
`);for(let r of i){let s=new RegExp("(iPhone|iPad|iPod)").test(r),o=new RegExp("Watch").test(r);if(s&&!o){let n=r.split(" "),h=n[n.length-1].replace("(","").replace(")",""),u=n[n.length-2].replace("(","").replace(")",""),l=r.indexOf("Simulator")!==-1?3:2;n.splice(n.length-l,l);let c=`${n.join(" ")} - iOS ${u}`;t.push({name:c,udid:h})}}return t}catch(e){throw new Error(String(e))}});var nf=bh(),wh=(t,e)=>T(void 0,null,function*(){console.log("\u{1F440} Collecting build information..."),yield nf.parseFile(t).then(i=>T(void 0,null,function*(){var l,c,g,y,w,P,fe;let r=(l=i==null?void 0:i.android)==null?void 0:l.productFlavors,s=(c=i==null?void 0:i.android)==null?void 0:c.buildTypes,o=(y=(g=i==null?void 0:i.android)==null?void 0:g.defaultConfig)==null?void 0:y.applicationId;r||console.log("\u{1F336}\uFE0F No product flavors found - continuing without"),s||console.log("\u{1F527} No build types found - continuing without"),o||console.log("\u{1FAAA} No application id found - continuing without"),!r&&!s&&!o&&(console.log("\u{1F6A8} No build information found - check build.gradle file if you are using productFlavors, buildTypes or applicationId and you are missing them"),console.log('\u{1F6A8} Script will run "npx react-native run-android" without any additional parameters'));let{buildType:n,flavor:h}=yield(0,yh.default)([{type:"select",name:"buildType",message:" Pick build type",instructions:!1,choices:s?Object.keys(s).map(x=>({title:x,value:x})):[]},{type:"select",name:"flavor",message:" Pick product flavor",instructions:!1,choices:r?Object.keys(r).map(x=>({title:x,value:x})):[]}]),u=(fe=(P=(w=i==null?void 0:i.android)==null?void 0:w.productFlavors)==null?void 0:P[h])==null?void 0:fe.applicationId;u&&(o=u),e.customScriptPhase&&(console.log("\u{1F528} Running custom script phase..."),yield e.customScriptPhase({android:{buildType:n,productFlavor:h}})),yield Qe(`npx react-native run-android ${n?`--variant=${h?h+n[0].toUpperCase()+n.slice(1):n}`:""} ${o?`--appId=${o}`:""}`),process.exit(0)}))});var Sh=pe(yi());var xh=t=>T(void 0,null,function*(){var e;try{let i=yield he(`xcodebuild -list -project ${t} -json`),r=JSON.parse(i);if(!((e=r==null?void 0:r.project)!=null&&e.configurations))throw new Error("No configurations found in Xcode project");return r.project.configurations}catch(i){let r=`
      Couldn't get configurations from Xcode project.
      Make sure you are in the root of your project and ios folder exists.
      If you are using a custom path, make sure its correct.`;throw new Error(r)}});var _h=(t,e)=>T(void 0,null,function*(){console.log("\u{1F440} Collecting build information");let i=yield xh(t),r=yield So(),{config:s,device:o}=yield(0,Sh.default)([{type:"select",name:"config",message:" Pick configuration",instructions:!1,choices:i.map(n=>({title:n,value:n}))},{type:"select",name:"device",message:" Pick device",instructions:!1,choices:r.map(n=>({title:n.name,value:n.udid}))}]);e.customScriptPhase&&(console.log("\u{1F528} Running custom script phase..."),yield e.customScriptPhase({ios:{configuration:s,device:o}})),yield Qe(`npx react-native run-ios --udid ${o} --configuration ${s}`),process.exit(0)});var of=(t,e)=>T(void 0,null,function*(){console.log("\u{1F3C3} Running react-native-simboot");let i=vo(t),r=mo(i.root+"/simboot.config.js");e.ios&&(console.log("\u{1F34F} Running iOS script"),console.log("\u{1F34F} Using iOS project:",i.xcodeprojPath()),yield _h(e.iosXcodeprojPath||i.xcodeprojPath(),r)),e.android&&(console.log("\u{1F916} Running android script"),console.log("\u{1F916} Using android build.gradle:",i.buildGradlePath()),yield wh(e.androidBuildGradlePath||i.buildGradlePath(),r))});0&&(module.exports={simboot});
