"use strict";var Cl=Object.create;var Re=Object.defineProperty;var Pl=Object.getOwnPropertyDescriptor;var ql=Object.getOwnPropertyNames;var Il=Object.getPrototypeOf,Ml=Object.prototype.hasOwnProperty;var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Al=(t,e)=>{for(var i in e)Re(t,i,{get:e[i],enumerable:!0})},Ni=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ql(e))!Ml.call(t,s)&&s!==i&&Re(t,s,{get:()=>e[s],enumerable:!(r=Pl(e,s))||r.enumerable});return t};var pe=(t,e,i)=>(i=t!=null?Cl(Il(t)):{},Ni(e||!t||!t.__esModule?Re(i,"default",{value:t,enumerable:!0}):i,t)),Dl=t=>Ni(Re({},"__esModule",{value:!0}),t);var w=(t,e,i)=>new Promise((r,s)=>{var o=a=>{try{l(i.next(a))}catch(u){s(u)}},n=a=>{try{l(i.throw(a))}catch(u){s(u)}},l=a=>a.done?r(a.value):Promise.resolve(a.value).then(o,n);l((i=i.apply(t,e)).next())});var v=h((cf,Hi)=>{"use strict";var{FORCE_COLOR:$l,NODE_DISABLE_COLORS:El,TERM:Rl}=process.env,d={enabled:!El&&Rl!=="dumb"&&$l!=="0",reset:f(0,0),bold:f(1,22),dim:f(2,22),italic:f(3,23),underline:f(4,24),inverse:f(7,27),hidden:f(8,28),strikethrough:f(9,29),black:f(30,39),red:f(31,39),green:f(32,39),yellow:f(33,39),blue:f(34,39),magenta:f(35,39),cyan:f(36,39),white:f(37,39),gray:f(90,39),grey:f(90,39),bgBlack:f(40,49),bgRed:f(41,49),bgGreen:f(42,49),bgYellow:f(43,49),bgBlue:f(44,49),bgMagenta:f(45,49),bgCyan:f(46,49),bgWhite:f(47,49)};function Li(t,e){let i=0,r,s="",o="";for(;i<t.length;i++)r=t[i],s+=r.open,o+=r.close,e.includes(r.close)&&(e=e.replace(r.rgx,r.close+r.open));return s+e+o}function jl(t,e){let i={has:t,keys:e};return i.reset=d.reset.bind(i),i.bold=d.bold.bind(i),i.dim=d.dim.bind(i),i.italic=d.italic.bind(i),i.underline=d.underline.bind(i),i.inverse=d.inverse.bind(i),i.hidden=d.hidden.bind(i),i.strikethrough=d.strikethrough.bind(i),i.black=d.black.bind(i),i.red=d.red.bind(i),i.green=d.green.bind(i),i.yellow=d.yellow.bind(i),i.blue=d.blue.bind(i),i.magenta=d.magenta.bind(i),i.cyan=d.cyan.bind(i),i.white=d.white.bind(i),i.gray=d.gray.bind(i),i.grey=d.grey.bind(i),i.bgBlack=d.bgBlack.bind(i),i.bgRed=d.bgRed.bind(i),i.bgGreen=d.bgGreen.bind(i),i.bgYellow=d.bgYellow.bind(i),i.bgBlue=d.bgBlue.bind(i),i.bgMagenta=d.bgMagenta.bind(i),i.bgCyan=d.bgCyan.bind(i),i.bgWhite=d.bgWhite.bind(i),i}function f(t,e){let i={open:`\x1B[${t}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(r){return this!==void 0&&this.has!==void 0?(this.has.includes(t)||(this.has.push(t),this.keys.push(i)),r===void 0?this:d.enabled?Li(this.keys,r+""):r+""):r===void 0?jl([t],[i]):d.enabled?Li([i],r+""):r+""}}Hi.exports=d});var Gi=h((df,Yi)=>{"use strict";Yi.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var je=h((ff,Bi)=>{"use strict";Bi.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return typeof t=="string"?t.replace(i,""):t}});var y=h((pf,Ui)=>{"use strict";var ht="\x1B",b=`${ht}[`,Fl="\x07",ct={to(t,e){return e?`${b}${e+1};${t+1}H`:`${b}${t+1}G`},move(t,e){let i="";return t<0?i+=`${b}${-t}D`:t>0&&(i+=`${b}${t}C`),e<0?i+=`${b}${-e}A`:e>0&&(i+=`${b}${e}B`),i},up:(t=1)=>`${b}${t}A`,down:(t=1)=>`${b}${t}B`,forward:(t=1)=>`${b}${t}C`,backward:(t=1)=>`${b}${t}D`,nextLine:(t=1)=>`${b}E`.repeat(t),prevLine:(t=1)=>`${b}F`.repeat(t),left:`${b}G`,hide:`${b}?25l`,show:`${b}?25h`,save:`${ht}7`,restore:`${ht}8`},Nl={up:(t=1)=>`${b}S`.repeat(t),down:(t=1)=>`${b}T`.repeat(t)},Ll={screen:`${b}2J`,up:(t=1)=>`${b}1J`.repeat(t),down:(t=1)=>`${b}J`.repeat(t),line:`${b}2K`,lineEnd:`${b}K`,lineStart:`${b}1K`,lines(t){let e="";for(let i=0;i<t;i++)e+=this.line+(i<t-1?ct.up():"");return t&&(e+=ct.left),e}};Ui.exports={cursor:ct,scroll:Nl,erase:Ll,beep:Fl}});var Ki=h((gf,Wi)=>{"use strict";function Hl(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=Yl(t))||e&&t&&typeof t.length=="number"){i&&(t=i);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,l;return{s:function(){i=i.call(t)},n:function(){var u=i.next();return o=u.done,u},e:function(u){n=!0,l=u},f:function(){try{!o&&i.return!=null&&i.return()}finally{if(n)throw l}}}}function Yl(t,e){if(t){if(typeof t=="string")return Vi(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vi(t,e)}}function Vi(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Gl=je(),zi=y(),ki=zi.erase,Bl=zi.cursor,Ul=t=>[...Gl(t)].length;Wi.exports=function(t,e){if(!e)return ki.line+Bl.to(0);let i=0,r=t.split(/\r?\n/);var s=Hl(r),o;try{for(s.s();!(o=s.n()).done;){let n=o.value;i+=1+Math.floor(Math.max(Ul(n)-1,0)/e)}}catch(n){s.e(n)}finally{s.f()}return ki.lines(i)}});var dt=h((mf,Ji)=>{"use strict";var ge={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Vl={arrowUp:ge.arrowUp,arrowDown:ge.arrowDown,arrowLeft:ge.arrowLeft,arrowRight:ge.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},kl=process.platform==="win32"?Vl:ge;Ji.exports=kl});var Zi=h((vf,Xi)=>{"use strict";var te=v(),K=dt(),ft=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),zl=t=>ft[t]||ft.default,me=Object.freeze({aborted:te.red(K.cross),done:te.green(K.tick),exited:te.yellow(K.cross),default:te.cyan("?")}),Wl=(t,e,i)=>e?me.aborted:i?me.exited:t?me.done:me.default,Kl=t=>te.gray(t?K.ellipsis:K.pointerSmall),Jl=(t,e)=>te.gray(t?e?K.pointerSmall:"+":K.line);Xi.exports={styles:ft,render:zl,symbols:me,symbol:Wl,delimiter:Kl,item:Jl}});var er=h((bf,Qi)=>{"use strict";var Xl=je();Qi.exports=function(t,e){let i=String(Xl(t)||"").split(/\r?\n/);return e?i.map(r=>Math.ceil(r.length/e)).reduce((r,s)=>r+s):i.length}});var ir=h((yf,tr)=>{"use strict";tr.exports=(t,e={})=>{let i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((o,n)=>(n.length+i.length>=r||o[o.length-1].length+n.length+1<r?o[o.length-1]+=` ${n}`:o.push(`${i}${n}`),o),[i]).join(`
`)).join(`
`)}});var sr=h((wf,rr)=>{"use strict";rr.exports=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));r<0&&(r=0);let s=Math.min(r+i,e);return{startIndex:r,endIndex:s}}});var T=h((xf,nr)=>{"use strict";nr.exports={action:Gi(),clear:Ki(),style:Zi(),strip:je(),figures:dt(),lines:er(),wrap:ir(),entriesToDisplay:sr()}});var E=h((Sf,ar)=>{"use strict";var or=require("readline"),Zl=T(),Ql=Zl.action,ea=require("events"),lr=y(),ta=lr.beep,ia=lr.cursor,ra=v(),pt=class extends ea{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let i=or.createInterface({input:this.in,escapeCodeTimeout:50});or.emitKeypressEvents(this.in,i),this.in.isTTY&&this.in.setRawMode(!0);let r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(o,n)=>{let l=Ql(n,r);l===!1?this._&&this._(o,n):typeof this[l]=="function"?this[l](n):this.bell()};this.close=()=>{this.out.write(ia.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),i.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(ta)}render(){this.onRender(ra),this.firstRender&&(this.firstRender=!1)}};ar.exports=pt});var fr=h((_f,dr)=>{"use strict";function ur(t,e,i,r,s,o,n){try{var l=t[o](n),a=l.value}catch(u){i(u);return}l.done?e(a):Promise.resolve(a).then(r,s)}function hr(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(a){ur(o,r,s,n,l,"next",a)}function l(a){ur(o,r,s,n,l,"throw",a)}n(void 0)})}}var Fe=v(),sa=E(),cr=y(),na=cr.erase,ve=cr.cursor,Ne=T(),gt=Ne.style,mt=Ne.clear,oa=Ne.lines,la=Ne.figures,vt=class extends sa{constructor(e={}){super(e),this.transform=gt.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=mt("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Fe.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return hr(function*(){let i=yield e.validator(e.value);typeof i=="string"&&(e.errorMsg=i,i=!1),e.error=!i})()}submit(){var e=this;return hr(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,i){let r=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${r}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),i=this.value.slice(this.cursor);this.value=`${e}${i}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor+1);this.value=`${e}${i}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ve.down(oa(this.outputError,this.out.columns)-1)+mt(this.outputError,this.out.columns)),this.out.write(mt(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[gt.symbol(this.done,this.aborted),Fe.bold(this.msg),gt.delimiter(this.done),this.red?Fe.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":la.pointerSmall} ${Fe.red().italic(i)}`,"")),this.out.write(na.line+ve.to(0)+this.outputText+ve.save+this.outputError+ve.restore+ve.move(this.cursorOffset,0)))}};dr.exports=vt});var vr=h((Tf,mr)=>{"use strict";var R=v(),aa=E(),be=T(),pr=be.style,gr=be.clear,Le=be.figures,ua=be.wrap,ha=be.entriesToDisplay,ca=y(),da=ca.cursor,bt=class extends aa{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((i,r)=>(typeof i=="string"&&(i={title:i,value:r}),{title:i&&(i.title||i.value||i),value:i&&(i.value===void 0?r:i.value),description:i&&i.description,selected:i&&i.selected,disabled:i&&i.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=gr("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,i){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(da.hide):this.out.write(gr(this.outputText,this.out.columns)),super.render();let e=ha(this.cursor,this.choices.length,this.optionsPerPage),i=e.startIndex,r=e.endIndex;if(this.outputText=[pr.symbol(this.done,this.aborted),R.bold(this.msg),pr.delimiter(!1),this.done?this.selection.title:this.selection.disabled?R.yellow(this.warn):R.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=i;s<r;s++){let o,n,l="",a=this.choices[s];s===i&&i>0?n=Le.arrowUp:s===r-1&&r<this.choices.length?n=Le.arrowDown:n=" ",a.disabled?(o=this.cursor===s?R.gray().underline(a.title):R.strikethrough().gray(a.title),n=(this.cursor===s?R.bold().gray(Le.pointer)+" ":"  ")+n):(o=this.cursor===s?R.cyan().underline(a.title):a.title,n=(this.cursor===s?R.cyan(Le.pointer)+" ":"  ")+n,a.description&&this.cursor===s&&(l=` - ${a.description}`,(n.length+o.length+l.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(l=`
`+ua(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${o}${R.gray(l)}
`}}this.out.write(this.outputText)}};mr.exports=bt});var _r=h((Of,Sr)=>{"use strict";var He=v(),fa=E(),wr=T(),br=wr.style,pa=wr.clear,xr=y(),yr=xr.cursor,ga=xr.erase,yt=class extends fa{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,i){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(yr.hide):this.out.write(pa(this.outputText,this.out.columns)),super.render(),this.outputText=[br.symbol(this.done,this.aborted),He.bold(this.msg),br.delimiter(this.done),this.value?this.inactive:He.cyan().underline(this.inactive),He.gray("/"),this.value?He.cyan().underline(this.active):this.active].join(" "),this.out.write(ga.line+yr.to(0)+this.outputText))}};Sr.exports=yt});var C=h((Cf,Tr)=>{"use strict";var ie=class{constructor({token:e,date:i,parts:r,locales:s}){this.token=e,this.date=i||new Date,this.parts=r||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((i,r)=>r>e&&i instanceof ie)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),i=e.indexOf(this);return e.find((r,s)=>s>i&&r instanceof ie)}toString(){return String(this.date)}};Tr.exports=ie});var Cr=h((Pf,Or)=>{"use strict";var ma=C(),wt=class extends ma{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};Or.exports=wt});var qr=h((qf,Pr)=>{"use strict";var va=C(),ba=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),xt=class extends va{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),i=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+ba(e):this.token==="d"?i+1:this.token==="ddd"?this.locales.weekdaysShort[i]:this.token==="dddd"?this.locales.weekdays[i]:e}};Pr.exports=xt});var Mr=h((If,Ir)=>{"use strict";var ya=C(),St=class extends ya{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Ir.exports=St});var Dr=h((Mf,Ar)=>{"use strict";var wa=C(),_t=class extends wa{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Ar.exports=_t});var Er=h((Af,$r)=>{"use strict";var xa=C(),Tt=class extends xa{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};$r.exports=Tt});var jr=h((Df,Rr)=>{"use strict";var Sa=C(),Ot=class extends Sa{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),i=this.token.length;return i===2?String(e+1).padStart(2,"0"):i===3?this.locales.monthsShort[e]:i===4?this.locales.months[e]:String(e+1)}};Rr.exports=Ot});var Nr=h(($f,Fr)=>{"use strict";var _a=C(),Ct=class extends _a{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Fr.exports=Ct});var Hr=h((Ef,Lr)=>{"use strict";var Ta=C(),Pt=class extends Ta{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};Lr.exports=Pt});var Gr=h((Rf,Yr)=>{"use strict";Yr.exports={DatePart:C(),Meridiem:Cr(),Day:qr(),Hours:Mr(),Milliseconds:Dr(),Minutes:Er(),Month:jr(),Seconds:Nr(),Year:Hr()}});var Zr=h((jf,Xr)=>{"use strict";function Br(t,e,i,r,s,o,n){try{var l=t[o](n),a=l.value}catch(u){i(u);return}l.done?e(a):Promise.resolve(a).then(r,s)}function Ur(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(a){Br(o,r,s,n,l,"next",a)}function l(a){Br(o,r,s,n,l,"throw",a)}n(void 0)})}}var qt=v(),Oa=E(),Mt=T(),Vr=Mt.style,kr=Mt.clear,Ca=Mt.figures,Jr=y(),Pa=Jr.erase,zr=Jr.cursor,j=Gr(),Wr=j.DatePart,qa=j.Meridiem,Ia=j.Day,Ma=j.Hours,Aa=j.Milliseconds,Da=j.Minutes,$a=j.Month,Ea=j.Seconds,Ra=j.Year,ja=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Kr={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new Ia(t),3:t=>new $a(t),4:t=>new Ra(t),5:t=>new qa(t),6:t=>new Ma(t),7:t=>new Da(t),8:t=>new Ea(t),9:t=>new Aa(t)},Fa={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},It=class extends Oa{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(Fa,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=kr("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let i;for(this.parts=[];i=ja.exec(e);){let s=i.shift(),o=i.findIndex(n=>n!=null);this.parts.push(o in Kr?Kr[o]({token:i[o]||s,date:this.date,parts:this.parts,locales:this.locales}):i[o]||s)}let r=this.parts.reduce((s,o)=>(typeof o=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=o:s.push(o),s),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof Wr)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Ur(function*(){let i=yield e.validator(e.value);typeof i=="string"&&(e.errorMsg=i,i=!1),e.error=!i})()}submit(){var e=this;return Ur(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(i=>i instanceof Wr)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(zr.hide):this.out.write(kr(this.outputText,this.out.columns)),super.render(),this.outputText=[Vr.symbol(this.done,this.aborted),qt.bold(this.msg),Vr.delimiter(!1),this.parts.reduce((e,i,r)=>e.concat(r===this.cursor&&!this.done?qt.cyan().underline(i.toString()):i),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":Ca.pointerSmall} ${qt.red().italic(i)}`,"")),this.out.write(Pa.line+zr.to(0)+this.outputText))}};Xr.exports=It});var ns=h((Ff,ss)=>{"use strict";function Qr(t,e,i,r,s,o,n){try{var l=t[o](n),a=l.value}catch(u){i(u);return}l.done?e(a):Promise.resolve(a).then(r,s)}function es(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(a){Qr(o,r,s,n,l,"next",a)}function l(a){Qr(o,r,s,n,l,"throw",a)}n(void 0)})}}var Ye=v(),Na=E(),rs=y(),Ge=rs.cursor,La=rs.erase,Be=T(),At=Be.style,Ha=Be.figures,ts=Be.clear,Ya=Be.lines,Ga=/[0-9]/,Dt=t=>t!==void 0,is=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i},$t=class extends Na{constructor(e={}){super(e),this.transform=At.render(e.style),this.msg=e.message,this.initial=Dt(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Dt(e.min)?e.min:-1/0,this.max=Dt(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Ye.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${is(e,this.round)}`),this._value=is(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Ga.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return es(function*(){let i=yield e.validator(e.value);typeof i=="string"&&(e.errorMsg=i,i=!1),e.error=!i})()}submit(){var e=this;return es(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let i=e.value;e.value=i!==""?i:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,i){if(!this.valid(e))return this.bell();let r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=r,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Ge.down(Ya(this.outputError,this.out.columns)-1)+ts(this.outputError,this.out.columns)),this.out.write(ts(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[At.symbol(this.done,this.aborted),Ye.bold(this.msg),At.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Ye[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":Ha.pointerSmall} ${Ye.red().italic(i)}`,"")),this.out.write(La.line+Ge.to(0)+this.outputText+Ge.save+this.outputError+Ge.restore))}};ss.exports=$t});var Rt=h((Nf,as)=>{"use strict";var P=v(),Ba=y(),Ua=Ba.cursor,Va=E(),ye=T(),os=ye.clear,U=ye.figures,ls=ye.style,ka=ye.wrap,za=ye.entriesToDisplay,Et=class extends Va{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((i,r)=>(typeof i=="string"&&(i={title:i,value:r}),{title:i&&(i.title||i.value||i),description:i&&i.description,value:i&&(i.value===void 0?r:i.value),selected:i&&i.selected,disabled:i&&i.disabled})),this.clear=os("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(i=>i.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(i=>!i.disabled).forEach(i=>i.selected=e),this.render()}_(e,i){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${U.arrowUp}/${U.arrowDown}: Highlight option
    ${U.arrowLeft}/${U.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,i,r,s){let o=(i.selected?P.green(U.radioOn):U.radioOff)+" "+s+" ",n,l;return i.disabled?n=e===r?P.gray().underline(i.title):P.strikethrough().gray(i.title):(n=e===r?P.cyan().underline(i.title):i.title,e===r&&i.description&&(l=` - ${i.description}`,(o.length+n.length+l.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(l=`
`+ka(i.description,{margin:o.length,width:this.out.columns})))),o+n+P.gray(l||"")}paginateOptions(e){if(e.length===0)return P.red("No matches for this query.");let i=za(this.cursor,e.length,this.optionsPerPage),r=i.startIndex,s=i.endIndex,o,n=[];for(let l=r;l<s;l++)l===r&&r>0?o=U.arrowUp:l===s-1&&s<e.length?o=U.arrowDown:o=" ",n.push(this.renderOption(this.cursor,e[l],l,o));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");let e=[P.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(P.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Ua.hide),super.render();let e=[ls.symbol(this.done,this.aborted),P.bold(this.msg),ls.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=P.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=os(e,this.out.columns)}};as.exports=Et});var gs=h((Lf,ps)=>{"use strict";function us(t,e,i,r,s,o,n){try{var l=t[o](n),a=l.value}catch(u){i(u);return}l.done?e(a):Promise.resolve(a).then(r,s)}function Wa(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(a){us(o,r,s,n,l,"next",a)}function l(a){us(o,r,s,n,l,"throw",a)}n(void 0)})}}var we=v(),Ka=E(),fs=y(),Ja=fs.erase,hs=fs.cursor,xe=T(),jt=xe.style,cs=xe.clear,Ft=xe.figures,Xa=xe.wrap,Za=xe.entriesToDisplay,ds=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),Qa=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),eu=(t,e)=>{let i=t.findIndex(r=>r.value===e||r.title===e);return i>-1?i:void 0},Nt=class extends Ka{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:eu(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=jt.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=cs("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=ds(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var i=this;return Wa(function*(){let r=i.completing=i.suggest(i.input,i.choices),s=yield r;if(i.completing!==r)return;i.suggestions=s.map((n,l,a)=>({title:Qa(a,l),value:ds(a,l),description:n.description})),i.completing=!1;let o=Math.max(s.length-1,0);i.moveSelect(Math.min(o,i.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){let r=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${r}${e}${s}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),i=this.input.slice(this.cursor);this.input=`${e}${i}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor+1);this.input=`${e}${i}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,i,r,s){let o,n=r?Ft.arrowUp:s?Ft.arrowDown:" ",l=i?we.cyan().underline(e.title):e.title;return n=(i?we.cyan(Ft.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+l.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+Xa(e.description,{margin:3,width:this.out.columns}))),n+" "+l+we.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(hs.hide):this.out.write(cs(this.outputText,this.out.columns)),super.render();let e=Za(this.select,this.choices.length,this.limit),i=e.startIndex,r=e.endIndex;if(this.outputText=[jt.symbol(this.done,this.aborted,this.exited),we.bold(this.msg),jt.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(i,r).map((o,n)=>this.renderOption(o,this.select===n+i,n===0&&i>0,n+i===r-1&&r<this.choices.length)).join(`
`);this.outputText+=`
`+(s||we.gray(this.fallback.title))}this.out.write(Ja.line+hs.to(0)+this.outputText)}};ps.exports=Nt});var ys=h((Hf,bs)=>{"use strict";var F=v(),tu=y(),iu=tu.cursor,ru=Rt(),Ht=T(),ms=Ht.clear,vs=Ht.style,re=Ht.figures,Lt=class extends ru{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=ms("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(r=>this.inputValue?!!(typeof r.title=="string"&&r.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof r.value=="string"&&r.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let i=this.filteredOptions.findIndex(r=>r===e);this.cursor=i<0?0:i,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,i){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${re.arrowUp}/${re.arrowDown}: Highlight option
    ${re.arrowLeft}/${re.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:F.gray("Enter something to filter")}
`}renderOption(e,i,r){let s;return i.disabled?s=e===r?F.gray().underline(i.title):F.strikethrough().gray(i.title):s=e===r?F.cyan().underline(i.title):i.title,(i.selected?F.green(re.radioOn):re.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");let e=[F.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(F.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(iu.hide),super.render();let e=[vs.symbol(this.done,this.aborted),F.bold(this.msg),vs.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=F.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=ms(e,this.out.columns)}};bs.exports=Lt});var Cs=h((Yf,Os)=>{"use strict";var ws=v(),su=E(),_s=T(),xs=_s.style,nu=_s.clear,Ts=y(),ou=Ts.erase,Ss=Ts.cursor,Yt=class extends su{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Ss.hide):this.out.write(nu(this.outputText,this.out.columns)),super.render(),this.outputText=[xs.symbol(this.done,this.aborted),ws.bold(this.msg),xs.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:ws.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(ou.line+Ss.to(0)+this.outputText))}};Os.exports=Yt});var qs=h((Gf,Ps)=>{"use strict";Ps.exports={TextPrompt:fr(),SelectPrompt:vr(),TogglePrompt:_r(),DatePrompt:Zr(),NumberPrompt:ns(),MultiselectPrompt:Rt(),AutocompletePrompt:gs(),AutocompleteMultiselectPrompt:ys(),ConfirmPrompt:Cs()}});var Ms=h(Is=>{"use strict";var S=Is,lu=qs(),Ue=t=>t;function q(t,e,i={}){return new Promise((r,s)=>{let o=new lu[t](e),n=i.onAbort||Ue,l=i.onSubmit||Ue,a=i.onExit||Ue;o.on("state",e.onState||Ue),o.on("submit",u=>r(l(u))),o.on("exit",u=>r(a(u))),o.on("abort",u=>s(n(u)))})}S.text=t=>q("TextPrompt",t);S.password=t=>(t.style="password",S.text(t));S.invisible=t=>(t.style="invisible",S.text(t));S.number=t=>q("NumberPrompt",t);S.date=t=>q("DatePrompt",t);S.confirm=t=>q("ConfirmPrompt",t);S.list=t=>{let e=t.separator||",";return q("TextPrompt",t,{onSubmit:i=>i.split(e).map(r=>r.trim())})};S.toggle=t=>q("TogglePrompt",t);S.select=t=>q("SelectPrompt",t);S.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=i=>i.filter(r=>r.selected).map(r=>r.value);return q("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};S.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=i=>i.filter(r=>r.selected).map(r=>r.value);return q("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var au=(t,e)=>Promise.resolve(e.filter(i=>i.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));S.autocomplete=t=>(t.suggest=t.suggest||au,t.choices=[].concat(t.choices||[]),q("AutocompletePrompt",t))});var Ns=h((Uf,Fs)=>{"use strict";function As(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,r)}return i}function Ds(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?As(Object(i),!0).forEach(function(r){uu(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):As(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function uu(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function hu(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=cu(t))||e&&t&&typeof t.length=="number"){i&&(t=i);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,n=!1,l;return{s:function(){i=i.call(t)},n:function(){var u=i.next();return o=u.done,u},e:function(u){n=!0,l=u},f:function(){try{!o&&i.return!=null&&i.return()}finally{if(n)throw l}}}}function cu(t,e){if(t){if(typeof t=="string")return $s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $s(t,e)}}function $s(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Es(t,e,i,r,s,o,n){try{var l=t[o](n),a=l.value}catch(u){i(u);return}l.done?e(a):Promise.resolve(a).then(r,s)}function Rs(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function n(a){Es(o,r,s,n,l,"next",a)}function l(a){Es(o,r,s,n,l,"throw",a)}n(void 0)})}}var Gt=Ms(),du=["suggest","format","onState","validate","onRender","type"],js=()=>{};function V(){return Bt.apply(this,arguments)}function Bt(){return Bt=Rs(function*(t=[],{onSubmit:e=js,onCancel:i=js}={}){let r={},s=V._override||{};t=[].concat(t);let o,n,l,a,u,c,g=function(){var B=Rs(function*($,Ee,Fi=!1){if(!(!Fi&&$.validate&&$.validate(Ee)!==!0))return $.format?yield $.format(Ee,r):Ee});return function(Ee,Fi){return B.apply(this,arguments)}}();var m=hu(t),x;try{for(m.s();!(x=m.n()).done;){n=x.value;var W=n;if(a=W.name,u=W.type,typeof u=="function"&&(u=yield u(o,Ds({},r),n),n.type=u),!!u){for(let B in n){if(du.includes(B))continue;let $=n[B];n[B]=typeof $=="function"?yield $(o,Ds({},r),c):$}if(c=n,typeof n.message!="string")throw new Error("prompt message is required");var ji=n;if(a=ji.name,u=ji.type,Gt[u]===void 0)throw new Error(`prompt type (${u}) is not defined`);if(s[n.name]!==void 0&&(o=yield g(n,s[n.name]),o!==void 0)){r[a]=o;continue}try{o=V._injected?fu(V._injected,n.initial):yield Gt[u](n),r[a]=o=yield g(n,o,!0),l=yield e(n,o,r)}catch{l=!(yield i(n,r))}if(l)return r}}}catch(B){m.e(B)}finally{m.f()}return r}),Bt.apply(this,arguments)}function fu(t,e){let i=t.shift();if(i instanceof Error)throw i;return i===void 0?e:i}function pu(t){V._injected=(V._injected||[]).concat(t)}function gu(t){V._override=Object.assign({},t)}Fs.exports=Object.assign(V,{prompt:V,prompts:Gt,inject:pu,override:gu})});var Hs=h((Vf,Ls)=>{"use strict";Ls.exports=(t,e)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(e){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}});var Ve=h((kf,Ys)=>{"use strict";Ys.exports=t=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return typeof t=="string"?t.replace(i,""):t}});var Us=h((zf,Bs)=>{"use strict";var mu=Ve(),{erase:Gs,cursor:vu}=y(),bu=t=>[...mu(t)].length;Bs.exports=function(t,e){if(!e)return Gs.line+vu.to(0);let i=0,r=t.split(/\r?\n/);for(let s of r)i+=1+Math.floor(Math.max(bu(s)-1,0)/e);return Gs.lines(i)}});var Ut=h((Wf,Vs)=>{"use strict";var Se={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},yu={arrowUp:Se.arrowUp,arrowDown:Se.arrowDown,arrowLeft:Se.arrowLeft,arrowRight:Se.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},wu=process.platform==="win32"?yu:Se;Vs.exports=wu});var zs=h((Kf,ks)=>{"use strict";var se=v(),J=Ut(),Vt=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"\u{1F603}".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),xu=t=>Vt[t]||Vt.default,_e=Object.freeze({aborted:se.red(J.cross),done:se.green(J.tick),exited:se.yellow(J.cross),default:se.cyan("?")}),Su=(t,e,i)=>e?_e.aborted:i?_e.exited:t?_e.done:_e.default,_u=t=>se.gray(t?J.ellipsis:J.pointerSmall),Tu=(t,e)=>se.gray(t?e?J.pointerSmall:"+":J.line);ks.exports={styles:Vt,render:xu,symbols:_e,symbol:Su,delimiter:_u,item:Tu}});var Ks=h((Jf,Ws)=>{"use strict";var Ou=Ve();Ws.exports=function(t,e){let i=String(Ou(t)||"").split(/\r?\n/);return e?i.map(r=>Math.ceil(r.length/e)).reduce((r,s)=>r+s):i.length}});var Xs=h((Xf,Js)=>{"use strict";Js.exports=(t,e={})=>{let i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((o,n)=>(n.length+i.length>=r||o[o.length-1].length+n.length+1<r?o[o.length-1]+=` ${n}`:o.push(`${i}${n}`),o),[i]).join(`
`)).join(`
`)}});var Qs=h((Zf,Zs)=>{"use strict";Zs.exports=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));r<0&&(r=0);let s=Math.min(r+i,e);return{startIndex:r,endIndex:s}}});var O=h((Qf,en)=>{"use strict";en.exports={action:Hs(),clear:Us(),style:zs(),strip:Ve(),figures:Ut(),lines:Ks(),wrap:Xs(),entriesToDisplay:Qs()}});var N=h((ep,rn)=>{"use strict";var tn=require("readline"),{action:Cu}=O(),Pu=require("events"),{beep:qu,cursor:Iu}=y(),Mu=v(),kt=class extends Pu{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let i=tn.createInterface({input:this.in,escapeCodeTimeout:50});tn.emitKeypressEvents(this.in,i),this.in.isTTY&&this.in.setRawMode(!0);let r=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(o,n)=>{let l=Cu(n,r);l===!1?this._&&this._(o,n):typeof this[l]=="function"?this[l](n):this.bell()};this.close=()=>{this.out.write(Iu.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),i.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(qu)}render(){this.onRender(Mu),this.firstRender&&(this.firstRender=!1)}};rn.exports=kt});var nn=h((tp,sn)=>{var ke=v(),Au=N(),{erase:Du,cursor:Te}=y(),{style:zt,clear:Wt,lines:$u,figures:Eu}=O(),Kt=class extends Au{constructor(e={}){super(e),this.transform=zt.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=Wt("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=ke.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,i){let r=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${r}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),i=this.value.slice(this.cursor);this.value=`${e}${i}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor+1);this.value=`${e}${i}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Te.down($u(this.outputError,this.out.columns)-1)+Wt(this.outputError,this.out.columns)),this.out.write(Wt(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[zt.symbol(this.done,this.aborted),ke.bold(this.msg),zt.delimiter(this.done),this.red?ke.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":Eu.pointerSmall} ${ke.red().italic(i)}`,"")),this.out.write(Du.line+Te.to(0)+this.outputText+Te.save+this.outputError+Te.restore+Te.move(this.cursorOffset,0)))}};sn.exports=Kt});var un=h((ip,an)=>{"use strict";var L=v(),Ru=N(),{style:on,clear:ln,figures:ze,wrap:ju,entriesToDisplay:Fu}=O(),{cursor:Nu}=y(),Jt=class extends Ru{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((i,r)=>(typeof i=="string"&&(i={title:i,value:r}),{title:i&&(i.title||i.value||i),value:i&&(i.value===void 0?r:i.value),description:i&&i.description,selected:i&&i.selected,disabled:i&&i.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=ln("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,i){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Nu.hide):this.out.write(ln(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:i}=Fu(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[on.symbol(this.done,this.aborted),L.bold(this.msg),on.delimiter(!1),this.done?this.selection.title:this.selection.disabled?L.yellow(this.warn):L.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let r=e;r<i;r++){let s,o,n="",l=this.choices[r];r===e&&e>0?o=ze.arrowUp:r===i-1&&i<this.choices.length?o=ze.arrowDown:o=" ",l.disabled?(s=this.cursor===r?L.gray().underline(l.title):L.strikethrough().gray(l.title),o=(this.cursor===r?L.bold().gray(ze.pointer)+" ":"  ")+o):(s=this.cursor===r?L.cyan().underline(l.title):l.title,o=(this.cursor===r?L.cyan(ze.pointer)+" ":"  ")+o,l.description&&this.cursor===r&&(n=` - ${l.description}`,(o.length+s.length+n.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(n=`
`+ju(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${s}${L.gray(n)}
`}}this.out.write(this.outputText)}};an.exports=Jt});var fn=h((rp,dn)=>{var We=v(),Lu=N(),{style:hn,clear:Hu}=O(),{cursor:cn,erase:Yu}=y(),Xt=class extends Lu{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,i){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(cn.hide):this.out.write(Hu(this.outputText,this.out.columns)),super.render(),this.outputText=[hn.symbol(this.done,this.aborted),We.bold(this.msg),hn.delimiter(this.done),this.value?this.inactive:We.cyan().underline(this.inactive),We.gray("/"),this.value?We.cyan().underline(this.active):this.active].join(" "),this.out.write(Yu.line+cn.to(0)+this.outputText))}};dn.exports=Xt});var I=h((sp,pn)=>{"use strict";var ne=class{constructor({token:e,date:i,parts:r,locales:s}){this.token=e,this.date=i||new Date,this.parts=r||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((i,r)=>r>e&&i instanceof ne)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),i=e.indexOf(this);return e.find((r,s)=>s>i&&r instanceof ne)}toString(){return String(this.date)}};pn.exports=ne});var mn=h((np,gn)=>{"use strict";var Gu=I(),Zt=class extends Gu{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};gn.exports=Zt});var bn=h((op,vn)=>{"use strict";var Bu=I(),Uu=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th"),Qt=class extends Bu{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),i=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+Uu(e):this.token==="d"?i+1:this.token==="ddd"?this.locales.weekdaysShort[i]:this.token==="dddd"?this.locales.weekdays[i]:e}};vn.exports=Qt});var wn=h((lp,yn)=>{"use strict";var Vu=I(),ei=class extends Vu{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};yn.exports=ei});var Sn=h((ap,xn)=>{"use strict";var ku=I(),ti=class extends ku{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};xn.exports=ti});var Tn=h((up,_n)=>{"use strict";var zu=I(),ii=class extends zu{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};_n.exports=ii});var Cn=h((hp,On)=>{"use strict";var Wu=I(),ri=class extends Wu{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),i=this.token.length;return i===2?String(e+1).padStart(2,"0"):i===3?this.locales.monthsShort[e]:i===4?this.locales.months[e]:String(e+1)}};On.exports=ri});var qn=h((cp,Pn)=>{"use strict";var Ku=I(),si=class extends Ku{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Pn.exports=si});var Mn=h((dp,In)=>{"use strict";var Ju=I(),ni=class extends Ju{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};In.exports=ni});var Dn=h((fp,An)=>{"use strict";An.exports={DatePart:I(),Meridiem:mn(),Day:bn(),Hours:wn(),Milliseconds:Sn(),Minutes:Tn(),Month:Cn(),Seconds:qn(),Year:Mn()}});var Ln=h((pp,Nn)=>{"use strict";var oi=v(),Xu=N(),{style:$n,clear:En,figures:Zu}=O(),{erase:Qu,cursor:Rn}=y(),{DatePart:jn,Meridiem:eh,Day:th,Hours:ih,Milliseconds:rh,Minutes:sh,Month:nh,Seconds:oh,Year:lh}=Dn(),ah=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Fn={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new th(t),3:t=>new nh(t),4:t=>new lh(t),5:t=>new eh(t),6:t=>new ih(t),7:t=>new sh(t),8:t=>new oh(t),9:t=>new rh(t)},uh={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},li=class extends Xu{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(uh,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=En("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let i;for(this.parts=[];i=ah.exec(e);){let s=i.shift(),o=i.findIndex(n=>n!=null);this.parts.push(o in Fn?Fn[o]({token:i[o]||s,date:this.date,parts:this.parts,locales:this.locales}):i[o]||s)}let r=this.parts.reduce((s,o)=>(typeof o=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=o:s.push(o),s),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof jn)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(i=>i instanceof jn)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Rn.hide):this.out.write(En(this.outputText,this.out.columns)),super.render(),this.outputText=[$n.symbol(this.done,this.aborted),oi.bold(this.msg),$n.delimiter(!1),this.parts.reduce((e,i,r)=>e.concat(r===this.cursor&&!this.done?oi.cyan().underline(i.toString()):i),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":Zu.pointerSmall} ${oi.red().italic(i)}`,"")),this.out.write(Qu.line+Rn.to(0)+this.outputText))}};Nn.exports=li});var Bn=h((gp,Gn)=>{var Ke=v(),hh=N(),{cursor:Je,erase:ch}=y(),{style:ai,figures:dh,clear:Hn,lines:fh}=O(),ph=/[0-9]/,ui=t=>t!==void 0,Yn=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i},hi=class extends hh{constructor(e={}){super(e),this.transform=ai.render(e.style),this.msg=e.message,this.initial=ui(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=ui(e.min)?e.min:-1/0,this.max=ui(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Ke.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Yn(e,this.round)}`),this._value=Yn(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||ph.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,i){if(!this.valid(e))return this.bell();let r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=r,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Je.down(fh(this.outputError,this.out.columns)-1)+Hn(this.outputError,this.out.columns)),this.out.write(Hn(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[ai.symbol(this.done,this.aborted),Ke.bold(this.msg),ai.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Ke[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,i,r)=>e+`
${r?" ":dh.pointerSmall} ${Ke.red().italic(i)}`,"")),this.out.write(ch.line+Je.to(0)+this.outputText+Je.save+this.outputError+Je.restore))}};Gn.exports=hi});var di=h((mp,kn)=>{"use strict";var M=v(),{cursor:gh}=y(),mh=N(),{clear:Un,figures:k,style:Vn,wrap:vh,entriesToDisplay:bh}=O(),ci=class extends mh{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((i,r)=>(typeof i=="string"&&(i={title:i,value:r}),{title:i&&(i.title||i.value||i),description:i&&i.description,value:i&&(i.value===void 0?r:i.value),selected:i&&i.selected,disabled:i&&i.disabled})),this.clear=Un("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(i=>i.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(i=>!i.disabled).forEach(i=>i.selected=e),this.render()}_(e,i){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${k.arrowUp}/${k.arrowDown}: Highlight option
    ${k.arrowLeft}/${k.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,i,r,s){let o=(i.selected?M.green(k.radioOn):k.radioOff)+" "+s+" ",n,l;return i.disabled?n=e===r?M.gray().underline(i.title):M.strikethrough().gray(i.title):(n=e===r?M.cyan().underline(i.title):i.title,e===r&&i.description&&(l=` - ${i.description}`,(o.length+n.length+l.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(l=`
`+vh(i.description,{margin:o.length,width:this.out.columns})))),o+n+M.gray(l||"")}paginateOptions(e){if(e.length===0)return M.red("No matches for this query.");let{startIndex:i,endIndex:r}=bh(this.cursor,e.length,this.optionsPerPage),s,o=[];for(let n=i;n<r;n++)n===i&&i>0?s=k.arrowUp:n===r-1&&r<e.length?s=k.arrowDown:s=" ",o.push(this.renderOption(this.cursor,e[n],n,s));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");let e=[M.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(M.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(gh.hide),super.render();let e=[Vn.symbol(this.done,this.aborted),M.bold(this.msg),Vn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=M.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Un(e,this.out.columns)}};kn.exports=ci});var Xn=h((vp,Jn)=>{"use strict";var Oe=v(),yh=N(),{erase:wh,cursor:zn}=y(),{style:fi,clear:Wn,figures:pi,wrap:xh,entriesToDisplay:Sh}=O(),Kn=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),_h=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]),Th=(t,e)=>{let i=t.findIndex(r=>r.value===e||r.title===e);return i>-1?i:void 0},gi=class extends yh{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Th(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=fi.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Wn("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Kn(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let i=this.completing=this.suggest(this.input,this.choices),r=await i;if(this.completing!==i)return;this.suggestions=r.map((o,n,l)=>({title:_h(l,n),value:Kn(l,n),description:o.description})),this.completing=!1;let s=Math.max(r.length-1,0);this.moveSelect(Math.min(s,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){let r=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${r}${e}${s}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),i=this.input.slice(this.cursor);this.input=`${e}${i}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor+1);this.input=`${e}${i}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,i,r,s){let o,n=r?pi.arrowUp:s?pi.arrowDown:" ",l=i?Oe.cyan().underline(e.title):e.title;return n=(i?Oe.cyan(pi.pointer)+" ":"  ")+n,e.description&&(o=` - ${e.description}`,(n.length+l.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o=`
`+xh(e.description,{margin:3,width:this.out.columns}))),n+" "+l+Oe.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(zn.hide):this.out.write(Wn(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:i}=Sh(this.select,this.choices.length,this.limit);if(this.outputText=[fi.symbol(this.done,this.aborted,this.exited),Oe.bold(this.msg),fi.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let r=this.suggestions.slice(e,i).map((s,o)=>this.renderOption(s,this.select===o+e,o===0&&e>0,o+e===i-1&&i<this.choices.length)).join(`
`);this.outputText+=`
`+(r||Oe.gray(this.fallback.title))}this.out.write(wh.line+zn.to(0)+this.outputText)}};Jn.exports=gi});var to=h((bp,eo)=>{"use strict";var H=v(),{cursor:Oh}=y(),Ch=di(),{clear:Zn,style:Qn,figures:oe}=O(),mi=class extends Ch{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=Zn("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(r=>this.inputValue?!!(typeof r.title=="string"&&r.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof r.value=="string"&&r.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let i=this.filteredOptions.findIndex(r=>r===e);this.cursor=i<0?0:i,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,i){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${oe.arrowUp}/${oe.arrowDown}: Highlight option
    ${oe.arrowLeft}/${oe.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:H.gray("Enter something to filter")}
`}renderOption(e,i,r){let s;return i.disabled?s=e===r?H.gray().underline(i.title):H.strikethrough().gray(i.title):s=e===r?H.cyan().underline(i.title):i.title,(i.selected?H.green(oe.radioOn):oe.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(i=>i.selected).map(i=>i.title).join(", ");let e=[H.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(H.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Oh.hide),super.render();let e=[Qn.symbol(this.done,this.aborted),H.bold(this.msg),Qn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=H.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Zn(e,this.out.columns)}};eo.exports=mi});var oo=h((yp,no)=>{var io=v(),Ph=N(),{style:ro,clear:qh}=O(),{erase:Ih,cursor:so}=y(),vi=class extends Ph{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,i){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(so.hide):this.out.write(qh(this.outputText,this.out.columns)),super.render(),this.outputText=[ro.symbol(this.done,this.aborted),io.bold(this.msg),ro.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:io.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Ih.line+so.to(0)+this.outputText))}};no.exports=vi});var ao=h((wp,lo)=>{"use strict";lo.exports={TextPrompt:nn(),SelectPrompt:un(),TogglePrompt:fn(),DatePrompt:Ln(),NumberPrompt:Bn(),MultiselectPrompt:di(),AutocompletePrompt:Xn(),AutocompleteMultiselectPrompt:to(),ConfirmPrompt:oo()}});var ho=h(uo=>{"use strict";var _=uo,Mh=ao(),Xe=t=>t;function A(t,e,i={}){return new Promise((r,s)=>{let o=new Mh[t](e),n=i.onAbort||Xe,l=i.onSubmit||Xe,a=i.onExit||Xe;o.on("state",e.onState||Xe),o.on("submit",u=>r(l(u))),o.on("exit",u=>r(a(u))),o.on("abort",u=>s(n(u)))})}_.text=t=>A("TextPrompt",t);_.password=t=>(t.style="password",_.text(t));_.invisible=t=>(t.style="invisible",_.text(t));_.number=t=>A("NumberPrompt",t);_.date=t=>A("DatePrompt",t);_.confirm=t=>A("ConfirmPrompt",t);_.list=t=>{let e=t.separator||",";return A("TextPrompt",t,{onSubmit:i=>i.split(e).map(r=>r.trim())})};_.toggle=t=>A("TogglePrompt",t);_.select=t=>A("SelectPrompt",t);_.multiselect=t=>{t.choices=[].concat(t.choices||[]);let e=i=>i.filter(r=>r.selected).map(r=>r.value);return A("MultiselectPrompt",t,{onAbort:e,onSubmit:e})};_.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);let e=i=>i.filter(r=>r.selected).map(r=>r.value);return A("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};var Ah=(t,e)=>Promise.resolve(e.filter(i=>i.title.slice(0,t.length).toLowerCase()===t.toLowerCase()));_.autocomplete=t=>(t.suggest=t.suggest||Ah,t.choices=[].concat(t.choices||[]),A("AutocompletePrompt",t))});var po=h((Sp,fo)=>{"use strict";var bi=ho(),Dh=["suggest","format","onState","validate","onRender","type"],co=()=>{};async function z(t=[],{onSubmit:e=co,onCancel:i=co}={}){let r={},s=z._override||{};t=[].concat(t);let o,n,l,a,u,c,g=async(m,x,W=!1)=>{if(!(!W&&m.validate&&m.validate(x)!==!0))return m.format?await m.format(x,r):x};for(n of t)if({name:a,type:u}=n,typeof u=="function"&&(u=await u(o,{...r},n),n.type=u),!!u){for(let m in n){if(Dh.includes(m))continue;let x=n[m];n[m]=typeof x=="function"?await x(o,{...r},c):x}if(c=n,typeof n.message!="string")throw new Error("prompt message is required");if({name:a,type:u}=n,bi[u]===void 0)throw new Error(`prompt type (${u}) is not defined`);if(s[n.name]!==void 0&&(o=await g(n,s[n.name]),o!==void 0)){r[a]=o;continue}try{o=z._injected?$h(z._injected,n.initial):await bi[u](n),r[a]=o=await g(n,o,!0),l=await e(n,o,r)}catch{l=!await i(n,r)}if(l)return r}return r}function $h(t,e){let i=t.shift();if(i instanceof Error)throw i;return i===void 0?e:i}function Eh(t){z._injected=(z._injected||[]).concat(t)}function Rh(t){z._override=Object.assign({},t)}fo.exports=Object.assign(z,{prompt:z,prompts:bi,inject:Eh,override:Rh})});var yi=h((_p,go)=>{function jh(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,i=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(i[e]>t[e])return!1;if(t[e]>i[e])return!0}return!1}go.exports=jh("8.6.0")?Ns():po()});var Xo=h((Ce,ue)=>{var Fh=200,Do="__lodash_hash_undefined__",Nh=800,Lh=16,$o=9007199254740991,Eo="[object Arguments]",Hh="[object Array]",Yh="[object AsyncFunction]",Gh="[object Boolean]",Bh="[object Date]",Uh="[object Error]",Ro="[object Function]",Vh="[object GeneratorFunction]",kh="[object Map]",zh="[object Number]",Wh="[object Null]",jo="[object Object]",Kh="[object Proxy]",Jh="[object RegExp]",Xh="[object Set]",Zh="[object String]",Qh="[object Undefined]",ec="[object WeakMap]",tc="[object ArrayBuffer]",ic="[object DataView]",rc="[object Float32Array]",sc="[object Float64Array]",nc="[object Int8Array]",oc="[object Int16Array]",lc="[object Int32Array]",ac="[object Uint8Array]",uc="[object Uint8ClampedArray]",hc="[object Uint16Array]",cc="[object Uint32Array]",dc=/[\\^$.*+?()[\]{}|]/g,fc=/^\[object .+?Constructor\]$/,pc=/^(?:0|[1-9]\d*)$/,p={};p[rc]=p[sc]=p[nc]=p[oc]=p[lc]=p[ac]=p[uc]=p[hc]=p[cc]=!0;p[Eo]=p[Hh]=p[tc]=p[Gh]=p[ic]=p[Bh]=p[Uh]=p[Ro]=p[kh]=p[zh]=p[jo]=p[Jh]=p[Xh]=p[Zh]=p[ec]=!1;var Fo=typeof global=="object"&&global&&global.Object===Object&&global,gc=typeof self=="object"&&self&&self.Object===Object&&self,Ie=Fo||gc||Function("return this")(),No=typeof Ce=="object"&&Ce&&!Ce.nodeType&&Ce,Pe=No&&typeof ue=="object"&&ue&&!ue.nodeType&&ue,Lo=Pe&&Pe.exports===No,wi=Lo&&Fo.process,_o=function(){try{var t=Pe&&Pe.require&&Pe.require("util").types;return t||wi&&wi.binding&&wi.binding("util")}catch{}}(),To=_o&&_o.isTypedArray;function mc(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function vc(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}function bc(t){return function(e){return t(e)}}function yc(t,e){return t?.[e]}function wc(t,e){return function(i){return t(e(i))}}var xc=Array.prototype,Sc=Function.prototype,it=Object.prototype,xi=Ie["__core-js_shared__"],rt=Sc.toString,Y=it.hasOwnProperty,Oo=function(){var t=/[^.]+$/.exec(xi&&xi.keys&&xi.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ho=it.toString,_c=rt.call(Object),Tc=RegExp("^"+rt.call(Y).replace(dc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=Lo?Ie.Buffer:void 0,Co=Ie.Symbol,Po=Ie.Uint8Array,qo=et?et.allocUnsafe:void 0,Yo=wc(Object.getPrototypeOf,Object),Io=Object.create,Oc=it.propertyIsEnumerable,Cc=xc.splice,Z=Co?Co.toStringTag:void 0,tt=function(){try{var t=Pi(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Pc=et?et.isBuffer:void 0,Mo=Math.max,qc=Date.now,Go=Pi(Ie,"Map"),qe=Pi(Object,"create"),Ic=function(){function t(){}return function(e){if(!ee(e))return{};if(Io)return Io(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function Q(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Mc(){this.__data__=qe?qe(null):{},this.size=0}function Ac(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Dc(t){var e=this.__data__;if(qe){var i=e[t];return i===Do?void 0:i}return Y.call(e,t)?e[t]:void 0}function $c(t){var e=this.__data__;return qe?e[t]!==void 0:Y.call(e,t)}function Ec(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=qe&&e===void 0?Do:e,this}Q.prototype.clear=Mc;Q.prototype.delete=Ac;Q.prototype.get=Dc;Q.prototype.has=$c;Q.prototype.set=Ec;function G(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Rc(){this.__data__=[],this.size=0}function jc(t){var e=this.__data__,i=st(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():Cc.call(e,i,1),--this.size,!0}function Fc(t){var e=this.__data__,i=st(e,t);return i<0?void 0:e[i][1]}function Nc(t){return st(this.__data__,t)>-1}function Lc(t,e){var i=this.__data__,r=st(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}G.prototype.clear=Rc;G.prototype.delete=jc;G.prototype.get=Fc;G.prototype.has=Nc;G.prototype.set=Lc;function he(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Hc(){this.size=0,this.__data__={hash:new Q,map:new(Go||G),string:new Q}}function Yc(t){var e=ot(this,t).delete(t);return this.size-=e?1:0,e}function Gc(t){return ot(this,t).get(t)}function Bc(t){return ot(this,t).has(t)}function Uc(t,e){var i=ot(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}he.prototype.clear=Hc;he.prototype.delete=Yc;he.prototype.get=Gc;he.prototype.has=Bc;he.prototype.set=Uc;function ce(t){var e=this.__data__=new G(t);this.size=e.size}function Vc(){this.__data__=new G,this.size=0}function kc(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function zc(t){return this.__data__.get(t)}function Wc(t){return this.__data__.has(t)}function Kc(t,e){var i=this.__data__;if(i instanceof G){var r=i.__data__;if(!Go||r.length<Fh-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new he(r)}return i.set(t,e),this.size=i.size,this}ce.prototype.clear=Vc;ce.prototype.delete=kc;ce.prototype.get=zc;ce.prototype.has=Wc;ce.prototype.set=Kc;function Jc(t,e){var i=Oi(t),r=!i&&Ti(t),s=!i&&!r&&ko(t),o=!i&&!r&&!s&&Wo(t),n=i||r||s||o,l=n?vc(t.length,String):[],a=l.length;for(var u in t)(e||Y.call(t,u))&&!(n&&(u=="length"||s&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Uo(u,a)))&&l.push(u);return l}function Si(t,e,i){(i!==void 0&&!lt(t[e],i)||i===void 0&&!(e in t))&&Ci(t,e,i)}function Xc(t,e,i){var r=t[e];(!(Y.call(t,e)&&lt(r,i))||i===void 0&&!(e in t))&&Ci(t,e,i)}function st(t,e){for(var i=t.length;i--;)if(lt(t[i][0],e))return i;return-1}function Ci(t,e,i){e=="__proto__"&&tt?tt(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var Zc=cd();function nt(t){return t==null?t===void 0?Qh:Wh:Z&&Z in Object(t)?dd(t):bd(t)}function Ao(t){return Me(t)&&nt(t)==Eo}function Qc(t){if(!ee(t)||md(t))return!1;var e=Ii(t)?Tc:fc;return e.test(Sd(t))}function ed(t){return Me(t)&&zo(t.length)&&!!p[nt(t)]}function td(t){if(!ee(t))return vd(t);var e=Vo(t),i=[];for(var r in t)r=="constructor"&&(e||!Y.call(t,r))||i.push(r);return i}function Bo(t,e,i,r,s){t!==e&&Zc(e,function(o,n){if(s||(s=new ce),ee(o))id(t,e,n,i,Bo,r,s);else{var l=r?r(_i(t,n),o,n+"",t,e,s):void 0;l===void 0&&(l=o),Si(t,n,l)}},Ko)}function id(t,e,i,r,s,o,n){var l=_i(t,i),a=_i(e,i),u=n.get(a);if(u){Si(t,i,u);return}var c=o?o(l,a,i+"",t,e,n):void 0,g=c===void 0;if(g){var m=Oi(a),x=!m&&ko(a),W=!m&&!x&&Wo(a);c=a,m||x||W?Oi(l)?c=l:_d(l)?c=ad(l):x?(g=!1,c=nd(a,!0)):W?(g=!1,c=ld(a,!0)):c=[]:Td(a)||Ti(a)?(c=l,Ti(l)?c=Od(l):(!ee(l)||Ii(l))&&(c=fd(a))):g=!1}g&&(n.set(a,c),s(c,a,r,o,n),n.delete(a)),Si(t,i,c)}function rd(t,e){return wd(yd(t,e,Jo),t+"")}var sd=tt?function(t,e){return tt(t,"toString",{configurable:!0,enumerable:!1,value:Pd(e),writable:!0})}:Jo;function nd(t,e){if(e)return t.slice();var i=t.length,r=qo?qo(i):new t.constructor(i);return t.copy(r),r}function od(t){var e=new t.constructor(t.byteLength);return new Po(e).set(new Po(t)),e}function ld(t,e){var i=e?od(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function ad(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}function ud(t,e,i,r){var s=!i;i||(i={});for(var o=-1,n=e.length;++o<n;){var l=e[o],a=r?r(i[l],t[l],l,i,t):void 0;a===void 0&&(a=t[l]),s?Ci(i,l,a):Xc(i,l,a)}return i}function hd(t){return rd(function(e,i){var r=-1,s=i.length,o=s>1?i[s-1]:void 0,n=s>2?i[2]:void 0;for(o=t.length>3&&typeof o=="function"?(s--,o):void 0,n&&pd(i[0],i[1],n)&&(o=s<3?void 0:o,s=1),e=Object(e);++r<s;){var l=i[r];l&&t(e,l,r,o)}return e})}function cd(t){return function(e,i,r){for(var s=-1,o=Object(e),n=r(e),l=n.length;l--;){var a=n[t?l:++s];if(i(o[a],a,o)===!1)break}return e}}function ot(t,e){var i=t.__data__;return gd(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Pi(t,e){var i=yc(t,e);return Qc(i)?i:void 0}function dd(t){var e=Y.call(t,Z),i=t[Z];try{t[Z]=void 0;var r=!0}catch{}var s=Ho.call(t);return r&&(e?t[Z]=i:delete t[Z]),s}function fd(t){return typeof t.constructor=="function"&&!Vo(t)?Ic(Yo(t)):{}}function Uo(t,e){var i=typeof t;return e=e??$o,!!e&&(i=="number"||i!="symbol"&&pc.test(t))&&t>-1&&t%1==0&&t<e}function pd(t,e,i){if(!ee(i))return!1;var r=typeof e;return(r=="number"?qi(i)&&Uo(e,i.length):r=="string"&&e in i)?lt(i[e],t):!1}function gd(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function md(t){return!!Oo&&Oo in t}function Vo(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||it;return t===i}function vd(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}function bd(t){return Ho.call(t)}function yd(t,e,i){return e=Mo(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,o=Mo(r.length-e,0),n=Array(o);++s<o;)n[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=i(n),mc(t,this,l)}}function _i(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var wd=xd(sd);function xd(t){var e=0,i=0;return function(){var r=qc(),s=Lh-(r-i);if(i=r,s>0){if(++e>=Nh)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Sd(t){if(t!=null){try{return rt.call(t)}catch{}try{return t+""}catch{}}return""}function lt(t,e){return t===e||t!==t&&e!==e}var Ti=Ao(function(){return arguments}())?Ao:function(t){return Me(t)&&Y.call(t,"callee")&&!Oc.call(t,"callee")},Oi=Array.isArray;function qi(t){return t!=null&&zo(t.length)&&!Ii(t)}function _d(t){return Me(t)&&qi(t)}var ko=Pc||qd;function Ii(t){if(!ee(t))return!1;var e=nt(t);return e==Ro||e==Vh||e==Yh||e==Kh}function zo(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$o}function ee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Me(t){return t!=null&&typeof t=="object"}function Td(t){if(!Me(t)||nt(t)!=jo)return!1;var e=Yo(t);if(e===null)return!0;var i=Y.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&rt.call(i)==_c}var Wo=To?bc(To):ed;function Od(t){return ud(t,Ko(t))}function Ko(t){return qi(t)?Jc(t,!0):td(t)}var Cd=hd(function(t,e,i){Bo(t,e,i)});function Pd(t){return function(){return t}}function Jo(t){return t}function qd(){return!1}ue.exports=Cd});var bl=h((Dd,Ri)=>{"use strict";var Id=require("stream"),Md=require("fs"),Ad=Xo(),Dd=Ri.exports={},$d=9,$i=10,rl=13,sl=32,ut=40,nl=41,Ed=47,ol=61,ll=91,Rd=93,de=123,Ae=125,al="def",ul="if",$e={};$e[$d]=!0;$e[$i]=!0;$e[rl]=!0;$e[sl]=!0;var hl="//",jd="/*",Fd="*/",Zo={repositories:Xd,dependencies:kd,plugins:Wd},Ei="[ \\t]*([A-Za-z0-9_-]+)[ \\t]*",Nd=RegExp(Ei),Ld=RegExp(`(["']?)([\\w.-]+):([\\w.-]+):([\\w\\[\\]\\(\\),+.-]+)\\1`),Hd=RegExp(Ei+"(?:\\((.*)\\)|(.*))"),Yd=RegExp(Ei+`\\(((["']?)(.*)\\3)\\)[ \\t]*\\{`),Gd=RegExp("exclude[ \\t]+([^\\n]+)","g"),Bd=RegExp(`(id|version)[ \\t]*\\(?(["']?)([A-Za-z0-9._-]+)\\2\\)?`,"g");function at(t,e,i,r){var s={},o=t.length,n=0,l="",a="",u="",c=!0,g=!0;for(typeof r>"u"&&(r=!0);e.index<o;e.index++)if(n=t[e.index],!(g&&fe(n))){if(!e.comment.parsing&&g&&Di(l)){g=!1,gl(l)?e.comment.setSingleLine():e.comment.setMultiLine();continue}if(e.comment.multiLine&&ml(a)){e.comment.reset(),g=!0,l="",a="";continue}if(e.comment.parsing&&n!=$i){a+=String.fromCharCode(n);continue}if(e.comment.parsing&&De(n))if(e.comment.singleLine){e.comment.reset(),g=!0,u="",l="",a="";continue}else continue;if(c&&!i&&n===ut){pl(t,e),u="",l="",g=!0;continue}if(De(n)){if(!u&&l&&c){if(sf(l)&&!i)continue;u=l.trim(),l=""}(l||u&&!r)&&(tl(s,u,Ai(l)),u="",l=""),c=!0,g=!0,e.comment.reset();continue}if(!c&&!l&&n===ll){s[u]=Qd(t,e),u="",l="";continue}if(n===de)e.index++,Zo.hasOwnProperty(u)?s[u]=Zo[u](t,e):s[u]?s[u]=Ad({},s[u],at(t,e,i,r)):s[u]=at(t,e,i,r),u="";else if(n===Ae){u="",l="";break}else if(il(n)&&c){if(tf(l)){if(l===al)l=Zd(t,e);else if(l===ul){Ud(t,e),u="",l="";continue}}if(u=l,l="",c=!1,!u)continue}else{if(!l&&il(n))continue;l+=String.fromCharCode(n),g=g&&(n===Ed||Di(l))}}return tl(s,u,Ai(l)),s}function Ud(t,e){pl(t,e);for(var i="",r=!1,s=!1,o=0,n=t.length;e.index<n;e.index++)if(i=t[e.index],s){if(De(i))break}else if(i===de?(r=!0,o++):i===Ae?o--:!r&&!fe(i)&&(s=!0),r&&o===0)break;return o===0}function Vd(t,e){for(var i=e.index,r=1,s=t[++e.index];s!==void 0&&r;)s===ut?r++:s===nl&&r--,s=t[++e.index];for(;s&&s!==de;)s=t[++e.index];s=t[++e.index];for(var o=1;s!==void 0&&o;)s===de?o++:s===Ae&&o--,s=t[++e.index];e.index--}function kd(t,e){return fl(t,e,zd)}function zd(t){var e={group:"",name:"",version:"",type:""},i=Jd(t);if(i.gav)e=Qo(i.gav),e.type=i.type,e.excludes=i.excludes;else{e=Qo(t);var r=Nd.exec(t);e.type=r&&r[1]||"",e.excludes=[]}return e}function Wd(t,e){return fl(t,e,Kd)}function Kd(t){for(var e={},i;i=Bd.exec(t);)i&&i[1]&&(e[i[1]]=i[3]);return e}function cl(t){var e=t.indexOf(" ");return e===-1&&(e=t.indexOf("	")),e}function Jd(t){var e=Yd.exec(t);if(e&&e[2]){for(var i=[],r;r=Gd.exec(t);)i.push(dl(r[0].substring(cl(r[0]))));return{gav:e[2],type:e[1],excludes:i}}return[]}function Qo(t){var e={group:"",name:"",version:""},i=Ld.exec(t);if(i)e.group=i[2],e.name=i[3],e.version=i[4];else if(t.indexOf("project(")!==-1)e.name=t.match(/(project\([^\)]+\))/g)[0];else{var r=Hd.exec(t);r&&(r[3]||r[2])?e=el(e,r[3]||r[2]):e=el(e,t,t.slice(cl(t)))}return e}function el(t,e,i){var r=dl(e);return r.name?t=r:t.name=i||e,t}function dl(t){for(var e={},i="",r="",s=0,o=t.length;s<o;s++)if(t[s]===":"){i=i.trim(),e[i]="";for(var n=0,s=s+1;s<o;s++)if(!(n===0&&ef(t[s]))){if(t[s]==='"'||t[s]==="'"){r=t[s];continue}if(t[s]===","){e[i]=e[i].trim(),i="";break}e[i]+=t[s],n++}}else i+=t[s];return e[i]&&(e[i]=e[i].trim(),e[i].slice(-1)===r&&(e[i]=e[i].slice(0,-1))),e}function Xd(t,e){var i=[],r=at(t,e,!0,!1);return Object.keys(r).map(function(s){r[s]?i.push({type:s,data:r[s]}):i.push({type:"unknown",data:{name:s}})}),i}function fl(t,e,i){for(var r=[],s=1,o="",n="",l=!1;e.index<t.length;e.index++){if(t[e.index]===de?s++:t[e.index]===Ae?s--:o+=String.fromCharCode(t[e.index]),o=o.trim(),Di(o)){var a=o;for(e.index=e.index+1;e.index<t.length;e.index++){if(rf(a,t[e.index])){o="";break}a+=String.fromCharCode(t[e.index])}}if(o&&fe(t[e.index])){var u="";for(e.index=e.index+1;e.index<t.length;e.index++)if(u=t[e.index],n+=String.fromCharCode(u),u===de)l=!0;else if(l&&u===Ae)l=!1;else if(!l&&De(u)&&n)break;r.push(i(o+" "+n)),o="",n=""}if(s==0)break}return r}function Zd(t,e){for(var i=0,r="",s=!0,o=t.length;e.index<o&&(i=t[e.index],i!==ol);e.index++){if(i===ut){s=!1,Vd(t,e);break}r+=String.fromCharCode(i)}if(s){var n=r.trim().split(" ");return n[n.length-1]}else return""}function Qd(t,e){for(var i=0,r="",s=t.length;e.index<s;e.index++)if(i=t[e.index],i!==ll){if(i===Rd)break;r+=String.fromCharCode(i)}return r.split(",").map(function(o){return Ai(o.trim())})}function pl(t,e){for(var i=0,r="",s=t.length;e.index<s;e.index++)if(r=t[e.index],r===ut?i++:r===nl&&i--,i===0&&!fe(r)){e.index++;break}return i===0}function tl(t,e,i){if(e)if(t.hasOwnProperty(e))if(t[e].constructor===Array)t[e].push(Mi(i));else{var r=t[e];t[e]=[r,Mi(i)]}else t[e]=Mi(i)}function Mi(t){return t==="true"||t==="false"?t==="true":t}function Ai(t){var e=t.slice(0,1);return e==='"'?t.replace(/^"([^"]+)"$/g,"$1"):e==="'"?t.replace(/^'([^']+)'$/g,"$1"):t}function il(t){return t===sl||t===ol}function fe(t){return $e.hasOwnProperty(t)}function ef(t){return fe(t.charCodeAt(0))}function De(t){return t==rl||t==$i}function tf(t){return t===al||t===ul}function gl(t){return t.slice(0,2)===hl}function Di(t){return t===jd||t===hl}function rf(t,e){return De(e)&&gl(t)||fe(e)&&ml(t)}function ml(t){return t.slice(-2)===Fd}function sf(t){return t.match(/\w+\(.*\);?$/)!==null}function vl(t){return new Promise(function(e,i){var r={};t.on("data",function(s){var o={index:0,comment:{parsing:!1,singleLine:!1,multiLine:!1,setSingleLine:function(){this._setCommentState(!0,!1)},setMultiLine:function(){this._setCommentState(!1,!0)},reset:function(){this._setCommentState(!1,!1)},_setCommentState:function(n,l){this.singleLine=n,this.multiLine=l,this.parsing=n||l}}};r=at(s,o,!1,void 0)}),t.on("end",function(){e(r)}),t.on("error",function(s){i("Error parsing stream: "+s)})})}function nf(t){var e=new Id.Readable;return e._read=function(){},e.push(t),e.push(null),vl(e)}function of(t){var e=Md.createReadStream(t);return vl(e)}Ri.exports={parseText:nf,parseFile:of}});var uf={};Al(uf,{simboot:()=>af});module.exports=Dl(uf);var wl=pe(yi());var mo=pe(require("fs")),vo=t=>{if(!mo.default.existsSync(t))return{};let e=require(t);return e.customScriptPhase&&typeof e.customScriptPhase!="function"&&(console.log("\u{1F6A8} customScriptPhase must be a function"),process.exit(1)),e.verbose&&typeof e.verbose!="boolean"&&(console.log("\u{1F6A8} verbose must be a boolean"),process.exit(1)),e.verbose&&console.log("\u{1F4C4} Successfully parsed simboot.config.js"),{verbose:e.verbose||!1,dryRun:e.dryRun||!1,customScriptPhase:e.customScriptPhase}};var Ze=pe(require("path")),bo=t=>({root:D(t.root,"root"),xcodeprojPath:()=>{var i;let e=D((i=t==null?void 0:t.project)==null?void 0:i.ios,"project.ios");return e.xcodeprojPath||Ze.default.join(D(e.sourceDir,"project.ios.sourceDir"),D(e.xcodeProject,"project.ios.xcodeProject").name.replace(".xcworkspace",".xcodeproj"))},pbxprojPath:()=>{var i;let e=D((i=t==null?void 0:t.project)==null?void 0:i.ios,"project.ios");return e.pbxprojPath||Ze.default.join(D(e.sourceDir,"project.ios.sourceDir"),D(e.xcodeProject,"project.ios.xcodeProject").name.replace(".xcworkspace",".xcodeproj"),"project.pbxproj")},buildGradlePath:()=>{var i;let e=D((i=t==null?void 0:t.project)==null?void 0:i.android,"project.android");return Ze.default.join(D(e.sourceDir,"project.android.sourceDir"),D(e.appName,"project.android.appName"),"build.gradle")}}),D=(t,e)=>{if(!t)throw new Error(`Missing required value: ${e}, found: ${t}`);return t};var X=(t,e)=>{console.error(`\x1B[31m${t}${e?`: ${e}`:""}\x1B[0m`),process.exit(1)};var Qe=t=>w(void 0,null,function*(){let e=0,i=setInterval(()=>yo(++e),1e3);try{yield le(t),clearInterval(i),wo();return}catch(r){clearInterval(i),X("[run react-native command]",String(r))}});var ae=pe(require("readline")),xo=require("child_process"),yo=(t,e)=>{ae.clearLine(process.stdout,0),ae.cursorTo(process.stdout,0,void 0),process.stdout.write(`\u{1F6A7} ReactNative build is running... ${t} seconds elapsed`)},wo=()=>{ae.clearLine(process.stdout,0),ae.cursorTo(process.stdout,0,void 0),console.log("\u{1F680} ReactNative build finished successfully")},le=t=>new Promise((e,i)=>{(0,xo.exec)(t,(r,s,o)=>{r&&(console.error(r),i(r)),e(s||o)})});var So=()=>w(void 0,null,function*(){let t=[];try{let e=yield le("xcrun xctrace list devices"),i=e==null?void 0:e.split(`
`);for(let r of i){let s=new RegExp("(iPhone|iPad|iPod)").test(r),o=new RegExp("Watch").test(r);if(s&&!o){let n=r.split(" "),l=n[n.length-1].replace("(","").replace(")",""),a=n[n.length-2].replace("(","").replace(")",""),u=r.indexOf("Simulator")!==-1?3:2;n.splice(n.length-u,u);let c=`${n.join(" ")} - iOS ${a}`;t.push({name:c,udid:l})}}return t.length===0?X("\u{1F6A8} No devices found - continuing without"):t}catch(e){return X("\u{1F6A8} [getIosDeviceList]",`Failed to get device list.
Check if you have XCode CLI tools installed.`)}});var lf=bl(),yl=t=>w(void 0,null,function*(){return yield lf.parseFile(t).then(e=>w(void 0,null,function*(){var o;let i=e.android.productFlavors,r=e.android.buildTypes,s=(o=e.android.defaultConfig)==null?void 0:o.applicationId;return s||console.log("\u{1FAAA}"," No application id found - continuing without (this is fine)"),i||console.log("\u{1F336}\uFE0F"," No product flavors found - continuing without"),r||console.log("\u{1F527}","No build types found - continuing without"),!i&&!r&&!s&&(console.log("\u{1F6A8} No build information found - check build.gradle file if you are using productFlavors, buildTypes or applicationId and missing them"),console.log('\u{1F6A8} Script will run "npx react-native run-android" without any additional parameters')),{productFlavors:i,buildTypes:r,applicationId:s,gradleFile:e}}))});var xl=(t,e)=>w(void 0,null,function*(){var c,g;console.log("\u{1F440} Collecting build information...");let{buildTypes:i,productFlavors:r,applicationId:s,gradleFile:o}=yield yl(t),{buildType:n,flavor:l}=yield(0,wl.default)([{type:"select",name:"buildType",message:" Pick build type",instructions:!1,choices:i?Object.keys(i).map(m=>({title:m,value:m})):[]},{type:"select",name:"flavor",message:" Pick product flavor",instructions:!1,choices:r?Object.keys(r).map(m=>({title:m,value:m})):[]}]),a=(g=(c=o.android.productFlavors)==null?void 0:c[l])==null?void 0:g.applicationId,u=`npx react-native run-android ${n?`--variant=${l?l+n[0].toUpperCase()+n.slice(1):n}`:""} ${s?`--appId=${a||s}`:""}`;e.verbose&&(console.log("\u{1F916} Using build.gradle:",t),console.log("\u{1FAAA}"," Application ID:",a||s),console.log("\u{1F336}\uFE0F"," Product flavor:",l),console.log("\u{1F527} Build type:",n),console.log("\u{1F4C4} Custom script phase:",!!e.customScriptPhase),console.log("\u{1F916} Command:",u)),e.dryRun&&(console.log("\u{1F6A7} Dry run, not executing command"),process.exit(0)),e.customScriptPhase&&(console.log("\u{1F528} Running custom script phase..."),yield e.customScriptPhase({android:{buildType:n,productFlavor:l}})),yield Qe(u),process.exit(0)});var _l=pe(yi()),Tl=require("node:process");var Sl=t=>w(void 0,null,function*(){var e;try{let i=yield le(`xcodebuild -list -project ${t} -json`),r=JSON.parse(i);return(e=r==null?void 0:r.project)!=null&&e.configurations?r.project.configurations:(console.log("\u{1F6A8} No configurations found - continuing without"),[])}catch(i){return X("\u{1F6A8} [getXCodeConfigurations]",`Failed to get configurations from Xcode project.
Check if you have XCode CLI tools installed. If you do, check if the project path is correct.`)}});var Ol=(t,e)=>w(void 0,null,function*(){var l,a;console.log("\u{1F440} Collecting build information"),Tl.platform!=="darwin"&&(console.log("\u{1F6A8} XCode CLI is not supported on this platform"),process.exit(1));let i=yield Sl(t),r=yield So();r.length===0&&i.length===0&&(console.log("\u{1F6A8} No build information found"),console.log('\u{1F6A8} Script will run "npx react-native run-ios" without any additional parameters'));let{config:s,uuid:o}=yield(0,_l.default)([{type:"select",name:"config",message:" Pick configuration",instructions:!1,choices:i.map(u=>({title:u,value:u}))},{type:"select",name:"uuid",message:" Pick device",instructions:!1,choices:r.map(u=>({title:u.name,value:u.udid}))}]),n=`npx react-native run-ios ${o?`--udid ${o}`:""} ${s?`--configuration ${s}`:""}`;e.verbose&&(console.log("\u{1F518} Selected options: "),console.log("\u{1F34F} Using iOS project:",t),console.log("\u{1F527} Using configuration:",s),console.log("\u{1F4F1} Using device:",(l=r.find(u=>u.udid===o))==null?void 0:l.name,"-",o),console.log("\u{1F4C4} Custom script phase:",!!e.customScriptPhase),console.log("\u{1F916} Command:",n)),e.dryRun&&(console.log("\u{1F6A7} Dry run, not executing command"),process.exit(0)),e.customScriptPhase&&(console.log("\u{1F528} Running custom script phase..."),yield e.customScriptPhase({ios:{configuration:s,device:{name:((a=r.find(u=>u.udid===o))==null?void 0:a.name)||"no selected device",udid:o||"no selected device"}}})),yield Qe(n),process.exit(0)});var af=(t,e)=>w(void 0,null,function*(){console.log("\u{1F3C3} Running react-native-simboot");let i=bo(t),r=vo(i.root+"/simboot.config.js");!e.ios&&!e.android&&(console.log("\u{1F6A8} No platform selected"),process.exit(1)),e.ios&&e.android&&(console.log("\u{1F6A8} Only one platform can be selected at a time"),process.exit(1)),e.ios&&(console.log("\u{1F34F} Running iOS script"),yield Ol(e.iosXcodeprojPath||i.xcodeprojPath(),r)),e.android&&(console.log("\u{1F916} Running android script"),yield xl(e.androidBuildGradlePath||i.buildGradlePath(),r))});0&&(module.exports={simboot});
